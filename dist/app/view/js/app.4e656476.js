(function(t){function e(e){for(var s,n,i=e[0],d=e[1],l=e[2],u=0,p=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(t[s]=d[s]);c&&c(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,i=1;i<a.length;i++){var d=a[i];0!==r[d]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},o=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var c=d;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),r=a.n(s);r.a},"07e5":function(t,e,a){},"0ce5":function(t,e,a){},"16e6":function(t,e,a){"use strict";var s=a("d843"),r=a.n(s);r.a},"1e16":function(t,e,a){},"26fe":function(t,e,a){},"31a4":function(t,e,a){"use strict";var s=a("1e16"),r=a.n(s);r.a},"31d9":function(t,e,a){"use strict";var s=a("d23d"),r=a.n(s);r.a},4161:function(t,e,a){"use strict";var s=a("999a"),r=a.n(s);r.a},"429f":function(t,e,a){t.exports=a.p+"img/bcid-logo-rev-en.20eebe74.svg"},4593:function(t,e,a){"use strict";var s=a("7e2c"),r=a.n(s);r.a},"46d5":function(t,e,a){"use strict";var s=a("7f35"),r=a.n(s);r.a},"4a21":function(t,e,a){"use strict";var s=a("f11f"),r=a.n(s);r.a},5207:function(t,e,a){"use strict";var s=a("0ce5"),r=a.n(s);r.a},"53f9":function(t,e,a){"use strict";var s=a("d768"),r=a.n(s);r.a},5553:function(t,e,a){"use strict";var s=a("07e5"),r=a.n(s);r.a},5586:function(t,e,a){"use strict";var s=a("88ba"),r=a.n(s);r.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=a("2f62"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Bcheader",{staticClass:"bcheader",staticStyle:{"margin-bottom":"15px","text-transform":"capitalize"}},[a("a",{on:{click:t.toggleRole}},[t._v(t._s(t.role))])]),a("div",{staticClass:"container"},[a("transition",{attrs:{name:"fade"}},[a("router-view")],1)],1)],1)},n=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{staticClass:"min-nav d-md-none",attrs:{src:a("429f"),width:"200",height:"44",alt:"B.C. Government Logo"}}),t._m(0),s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary-nav burgernav"},[t._m(1),s("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbarColor01"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",[s("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return t.selectStudent()}}},[t._v("Student search")])]),s("li",[s("router-link",{attrs:{to:"/admin-graduation-programs"}},[t._v("Program management")])],1),s("li",[s("router-link",{attrs:{to:"/courses"}},[t._v("Courses")])],1),s("li",[s("router-link",{attrs:{to:"/schools"}},[t._v("Schools")])],1),s("li",[s("router-link",{attrs:{to:"/psi"}},[t._v("PSI")])],1),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth/realms/master/protocol/openid-connect/logout?redirect_uri="+t.host}},[t._v("Logout")])])]),s("div",{staticClass:"float:right"},[t._t("default")],2)])]),s("nav",{staticClass:"navigation-main",attrs:{id:"navbar"}},[s("div",{staticClass:"container"},[s("ul",[s("li",[s("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return t.selectStudent()}}},[t._v("Student search")])]),s("li",[s("router-link",{attrs:{to:"/admin-graduation-programs"}},[t._v("Program Management")])],1),s("li",[s("router-link",{attrs:{to:"/courses"}},[t._v("Courses")])],1),s("li",[s("router-link",{attrs:{to:"/schools"}},[t._v("Schools")])],1),s("li",[s("router-link",{attrs:{to:"/psi"}},[t._v("PSI")])],1),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth/realms/master/protocol/openid-connect/logout?redirect_uri="+t.host}},[t._v("Logout")])]),s("li")]),s("div",{staticClass:"float-right",staticStyle:{"margin-top":"-20px"}},[t._t("default")],2)])])])},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("div",{staticClass:"container"},[s("div",{staticClass:"banner"},[s("a",{staticClass:"navbar-brand",attrs:{href:"https://www2.gov.bc.ca"}},[s("img",{staticClass:"img-fluid d-none d-md-block",attrs:{src:a("429f"),width:"181",height:"44",alt:"B.C. Government Logo"}})]),s("h1",[t._v("Graduation Records and Achievement Data ")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l=a("bc3a"),c=a.n(l),u=a("72bf"),p=a.n(u);const m=c.a.create({headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"}});var h={logout(){null!=localStorage.getItem("jwt")&&(localStorage.removeItem("jwt"),localStorage.removeItem("refresh"))},handleSubmit(t,e){let a={client_id:Object({NODE_ENV:"production",VUE_APP_AUTH_HOST:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth/realms/master/protocol/openid-connect/token",VUE_APP_COURSE_ACHIEVEMENT_API_HOST:"/api/course-achievement",VUE_APP_COURSE_API_HOST:"/api/course",VUE_APP_GRADUATION_API_HOST:"/api-graduation",VUE_APP_GRADUATION_COMMON_API_HOST:"/api/graduation-common",VUE_APP_GRADUATION_PROGRAMS_API_HOST:"/api/graduation-programs",VUE_APP_GRADUATION_STATUS_API_HOST:"/api/graduation-status",VUE_APP_PROGRAM_MANAGEMENT_API_HOST:"/api/program-management",VUE_APP_PROGRAM_RULES_API_HOST:"/api/program-rules",VUE_APP_PSI_API_HOST:"/api/psi",VUE_APP_SCHOOL_API_HOST:"/api/school",VUE_APP_STUDENTS_API_HOST:"/api/students",VUE_APP_STUDENT_ASSESSMENTS_API_HOST:"/api/student-assessments",VUE_APP_STUDENT_EXAMS_API_HOST:"/api/student-exams",BASE_URL:"/"}).VUE_APP_CLIENT_ID,client_secret:Object({NODE_ENV:"production",VUE_APP_AUTH_HOST:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth/realms/master/protocol/openid-connect/token",VUE_APP_COURSE_ACHIEVEMENT_API_HOST:"/api/course-achievement",VUE_APP_COURSE_API_HOST:"/api/course",VUE_APP_GRADUATION_API_HOST:"/api-graduation",VUE_APP_GRADUATION_COMMON_API_HOST:"/api/graduation-common",VUE_APP_GRADUATION_PROGRAMS_API_HOST:"/api/graduation-programs",VUE_APP_GRADUATION_STATUS_API_HOST:"/api/graduation-status",VUE_APP_PROGRAM_MANAGEMENT_API_HOST:"/api/program-management",VUE_APP_PROGRAM_RULES_API_HOST:"/api/program-rules",VUE_APP_PSI_API_HOST:"/api/psi",VUE_APP_SCHOOL_API_HOST:"/api/school",VUE_APP_STUDENTS_API_HOST:"/api/students",VUE_APP_STUDENT_ASSESSMENTS_API_HOST:"/api/student-assessments",VUE_APP_STUDENT_EXAMS_API_HOST:"/api/student-exams",BASE_URL:"/"}).VUE_APP_CLIENT_SECRET,grant_type:Object({NODE_ENV:"production",VUE_APP_AUTH_HOST:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth/realms/master/protocol/openid-connect/token",VUE_APP_COURSE_ACHIEVEMENT_API_HOST:"/api/course-achievement",VUE_APP_COURSE_API_HOST:"/api/course",VUE_APP_GRADUATION_API_HOST:"/api-graduation",VUE_APP_GRADUATION_COMMON_API_HOST:"/api/graduation-common",VUE_APP_GRADUATION_PROGRAMS_API_HOST:"/api/graduation-programs",VUE_APP_GRADUATION_STATUS_API_HOST:"/api/graduation-status",VUE_APP_PROGRAM_MANAGEMENT_API_HOST:"/api/program-management",VUE_APP_PROGRAM_RULES_API_HOST:"/api/program-rules",VUE_APP_PSI_API_HOST:"/api/psi",VUE_APP_SCHOOL_API_HOST:"/api/school",VUE_APP_STUDENTS_API_HOST:"/api/students",VUE_APP_STUDENT_ASSESSMENTS_API_HOST:"/api/student-assessments",VUE_APP_STUDENT_EXAMS_API_HOST:"/api/student-exams",BASE_URL:"/"}).VUE_APP_GRANT_TYPE,username:t,password:e},s="https://soam-tools.apps.silver.devops.gov.bc.ca/auth/realms/master/protocol/openid-connect/token";return m.post(s,p.a.stringify(a))}},v={data(){return{pen:"",host:location.protocol+"//"+location.host}},created(){},methods:{logout(){h.logout(),this.$store.commit("unsetStudent"),this.$router.push("logout")},selectStudent(){this.$store.commit("unsetStudent"),this.$router.push("/")}}},g=v,_=(a("fb6e"),a("2877")),b=Object(_["a"])(g,i,d,!1,null,"7e8e3584",null),S=b.exports,f={components:{Bcheader:S},computed:{...Object(r["b"])({role:"getRoles"})},methods:{toggleRole(){"administrator"==this.role?this.$store.dispatch("setRoles","authenticated"):"authenticated"==this.role&&this.$store.dispatch("setRoles","administrator")}}},C=f,y=(a("034f"),Object(_["a"])(C,o,n,!1,null,null,null)),P=y.exports,A=a("85ff"),k=a.n(A),G=a("68ad"),w=a("8c4f"),R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"card col-sm-12 col-md-4 col-lg-4"},[a("div",{staticClass:"container pt-3 pb-4"},[a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"id"}},[t._v("User ID")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control form-control-lg",attrs:{id:"id",type:"text",required:"",autofocus:""},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{id:"password",type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",[a("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"},on:{click:t.submit}},[t._v(" Login ")])])])])])])},T=[],E={name:"Login",data(){return{token:"",id:"",password:""}},created(){},computed:{...Object(r["b"])({getToken:"getToken"})},methods:{submit(t){t.preventDefault(),this.password.length>0&&h.handleSubmit(this.id,this.password).then(t=>{this.$store.dispatch("setToken",t.data.access_token)})}}},x=E,D=Object(_["a"])(x,R,T,!1,null,"7966b12b",null),N=D.exports,O=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},I=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"card col-sm-12 col-md-4 col-lg-4"},[a("div",{staticClass:"container pt-3 pb-4"},[a("h1",[t._v("Logout Successful")]),a("p",[t._v("Please login using the Login Portal if you require access")]),a("a",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{href:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth/realms/master/protocol/openid-connect/logout?redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F"}},[t._v("Login Portal")])])])])}],M={name:"Logout",data(){},created(){},computed:{},methods:{}},L=M,j=Object(_["a"])(L,O,I,!1,null,"559414d6",null),U=j.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"studentlist"},[a("h1",[t._v("Student search")]),a("p",[t._v("Search by Personal Education Number(PEN) or use the advanced search tab to search by other search criteria.")]),a("div",[a("div",[a("b-card",{staticClass:"p-0",attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"PEN Search",active:""}},[a("b-card-text",[a("form",{on:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"search w-100"},[a("label",{staticClass:"float-left w-100",attrs:{for:"search-by-pen"}},[t._v("Search by PEN:")]),a("b-form-input",{ref:"penSearch",staticClass:"w-50 float-left",attrs:{id:"search-by-pen",size:"lg",type:"search",placeholder:"",tabindex:"1"},on:{keyup:t.keyHandler},model:{value:t.penInput,callback:function(e){t.penInput=e},expression:"penInput"}}),t.searchLoading?t._e():a("button",{staticClass:"btn btn-primary mt-2 float-left",on:{click:t.findStudentByPen}},[a("i",{staticClass:"fas fa-search"}),t._v(" Search ")]),t.searchLoading?a("button",{staticClass:" btn btn-primary mt-2 float-left"},[a("i",{staticClass:"fas fa-search"}),t._v(" Search ")]):t._e(),t._l(t.variants,(function(e){return a("b-spinner",{directives:[{name:"show",rawName:"v-show",value:t.searchLoading,expression:"searchLoading"}],key:e,staticClass:"loading-spinner float-left",attrs:{variant:e}})}))],2),a("div",{staticClass:"search-results-message"},[a("strong",[t.searchByPenMessage?a("span",[t._v(t._s(t.searchByPenMessage))]):t._e()])])])]),a("p",{staticClass:"sample-pens"},[t._v(" Samples: "),a("ul",[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return t.findStudentByPenSample(126966100)}}},[t._v("126966100")]),t._v(" (All)")]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return t.findStudentByPenSample(140341157)}}},[t._v("126966100")]),t._v(" (Exams and Assessment No grad status)")])])])])],1),a("b-tab",{attrs:{title:"Advanced Search"}},[a("b-card-text",[t._v(" "+t._s(t.advancedSearchInput.birthdateTo.value)+" "),a("form",{on:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"advanced-search-form"},[a("div",{staticClass:"row my-3"},[a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[t._v("Legal Surname")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:t.advancedSearchInput.legalLastName.contains},attrs:{href:"#",title:"Legal Surname starts with"},on:{click:function(e){t.advancedSearchInput.legalLastName.contains=!t.advancedSearchInput.legalLastName.contains}}},[t._v(" [.*] ")]),a("b-input",{attrs:{placeholder:"",tabindex:"1"},on:{keyup:t.keyHandler},model:{value:t.advancedSearchInput.legalLastName.value,callback:function(e){t.$set(t.advancedSearchInput.legalLastName,"value",e)},expression:"advancedSearchInput.legalLastName.value"}})],1),a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[t._v("Legal Given")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:t.advancedSearchInput.legalFirstName.contains},attrs:{href:"#",title:"Legal Given starts with"},on:{click:function(e){t.advancedSearchInput.legalFirstName.contains=!t.advancedSearchInput.legalFirstName.contains}}},[t._v(" [.*] ")]),a("b-input",{attrs:{placeholder:"",tabindex:"2"},on:{keyup:t.keyHandler},model:{value:t.advancedSearchInput.legalFirstName.value,callback:function(e){t.$set(t.advancedSearchInput.legalFirstName,"value",e)},expression:"advancedSearchInput.legalFirstName.value"}})],1),a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[t._v("Legal Middle")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:t.advancedSearchInput.legalMiddleNames.contains},attrs:{href:"#",title:"Legal Middle starts with"},on:{click:function(e){t.advancedSearchInput.legalMiddleNames.contains=!t.advancedSearchInput.legalMiddleNames.contains}}},[t._v(" [.*] ")]),a("b-input",{attrs:{placeholder:"",tabindex:"3"},on:{keyup:t.keyHandler},model:{value:t.advancedSearchInput.legalMiddleNames.value,callback:function(e){t.$set(t.advancedSearchInput.legalMiddleNames,"value",e)},expression:"advancedSearchInput.legalMiddleNames.value"}})],1),a("div",{staticClass:"advanced-search-field  col-12 col-md-2"},[a("label",[t._v("Gender")]),a("b-form-select",{attrs:{options:t.genderOptions,tabindex:"4"},model:{value:t.advancedSearchInput.gender.value,callback:function(e){t.$set(t.advancedSearchInput.gender,"value",e)},expression:"advancedSearchInput.gender.value"}})],1),a("div",{staticClass:"advanced-search-field  col-12 col-md-2"},[a("label",{attrs:{for:"datepicker-birthdate-from"}},[t._v("Birthdate FROM")]),a("b-input-group",{staticClass:"mb-3"},[a("b-form-input",{attrs:{id:"datepicker-birthdate-from",type:"text",placeholder:"YYYY-MM-DD",autocomplete:"off",tabindex:"6"},on:{keyup:t.keyHandler},model:{value:t.advancedSearchInput.birthdateFrom.value,callback:function(e){t.$set(t.advancedSearchInput.birthdateFrom,"value",e)},expression:"advancedSearchInput.birthdateFrom.value"}}),a("b-input-group-append",[a("b-form-datepicker",{attrs:{"button-only":"",right:"",locale:"en-US","aria-controls":"datepicker-birthdate-to"},on:{context:t.onContext},model:{value:t.advancedSearchInput.birthdateFrom.value,callback:function(e){t.$set(t.advancedSearchInput.birthdateFrom,"value",e)},expression:"advancedSearchInput.birthdateFrom.value"}})],1)],1)],1),a("div",{staticClass:"advanced-search-field  col-12 col-md-2"},[a("label",{attrs:{for:"datepicker-birthdate-to"}},[t._v("Birthdate TO")]),a("b-input-group",{staticClass:"mb-3"},[a("b-form-input",{attrs:{id:"datepicker-birthdate-to",type:"text",placeholder:"YYYY-MM-DD",autocomplete:"off",tabindex:"6"},on:{keyup:t.keyHandler},model:{value:t.advancedSearchInput.birthdateTo.value,callback:function(e){t.$set(t.advancedSearchInput.birthdateTo,"value",e)},expression:"advancedSearchInput.birthdateTo.value"}}),a("b-input-group-append",[a("b-form-datepicker",{attrs:{"button-only":"",right:"",locale:"en-US","aria-controls":"datepicker-birthdate-to"},on:{context:t.onContext},model:{value:t.advancedSearchInput.birthdateTo.value,callback:function(e){t.$set(t.advancedSearchInput.birthdateTo,"value",e)},expression:"advancedSearchInput.birthdateTo.value"}})],1)],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[t._v("Usual Surname")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:t.advancedSearchInput.usualLastName.contains},attrs:{href:"#",title:"Usual Surname starts with"},on:{click:function(e){t.advancedSearchInput.usualLastName.contains=!t.advancedSearchInput.usualLastName.contains}}},[t._v(" [.*] ")]),a("b-input",{attrs:{placeholder:"",tabindex:"7"},on:{keyup:t.keyHandler},model:{value:t.advancedSearchInput.usualLastName.value,callback:function(e){t.$set(t.advancedSearchInput.usualLastName,"value",e)},expression:"advancedSearchInput.usualLastName.value"}})],1),a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[t._v("Usual Given")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:t.advancedSearchInput.usualFirstName.contains},attrs:{href:"#",title:"Usual Given starts with"},on:{click:function(e){t.advancedSearchInput.usualFirstName.contains=!t.advancedSearchInput.usualFirstName.contains}}},[t._v(" [.*] ")]),a("b-input",{attrs:{placeholder:"",tabindex:"8"},on:{keyup:t.keyHandler},model:{value:t.advancedSearchInput.usualFirstName.value,callback:function(e){t.$set(t.advancedSearchInput.usualFirstName,"value",e)},expression:"advancedSearchInput.usualFirstName.value"}})],1),a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[t._v("Usual Middle")]),a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wild-card-button",class:{active:t.advancedSearchInput.usualMiddleNames.contains},attrs:{href:"#",title:"Usual Middle starts with"},on:{click:function(e){t.advancedSearchInput.usualMiddleNames.contains=!t.advancedSearchInput.usualMiddleNames.contains}}},[t._v(" [.*] ")]),a("b-input",{attrs:{placeholder:"",tabindex:"9"},on:{keyup:t.keyHandler},model:{value:t.advancedSearchInput.usualMiddleNames.value,callback:function(e){t.$set(t.advancedSearchInput.usualMiddleNames,"value",e)},expression:"advancedSearchInput.usualMiddleNames.value"}})],1),a("div",{staticClass:"advanced-search-field col-12 col-md-2"},[a("label",[t._v("Local ID")]),a("b-input",{attrs:{placeholder:"",tabindex:"10"},on:{keyup:t.keyHandler},model:{value:t.advancedSearchInput.localId.value,callback:function(e){t.$set(t.advancedSearchInput.localId,"value",e)},expression:"advancedSearchInput.localId.value"}})],1),a("div",{staticClass:"advanced-search-field  col-12 col-md-2"},[a("label",[t._v("Mincode")]),a("b-input",{attrs:{placeholder:"",tabindex:"11"},on:{keyup:t.keyHandler},model:{value:t.advancedSearchInput.mincode.value,callback:function(e){t.$set(t.advancedSearchInput.mincode,"value",e)},expression:"advancedSearchInput.mincode.value"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"advanced-search-button"},[t.advancedSearchLoading?t._e():a("button",{staticClass:"btn btn-primary",attrs:{tabindex:"12"},on:{click:t.findStudentsByAdvancedSearch}},[t._v("Search")]),t.advancedSearchLoading?a("button",{staticClass:"btn btn-success"},[t._v("Search")]):t._e(),a("button",{staticClass:" btn btn-primary mx-2",on:{click:t.clearInput}},[t._v("Clear")])]),t._l(t.variants,(function(e){return a("b-spinner",{directives:[{name:"show",rawName:"v-show",value:t.advancedSearchLoading,expression:"advancedSearchLoading"}],key:e,staticClass:"advanced-loading-spinner",attrs:{variant:e}})}))],2)]),a("div",{staticClass:"search-results-message"},[a("strong",[t.advancedSearchMessage?a("span",[t._v(t._s(t.advancedSearchMessage))]):t._e()])])]),a("transition",{attrs:{name:"fade"}},[t.studentSearchResults.length?a("DisplayTable",{attrs:{items:t.studentSearchResults,title:"Student search results",fields:t.studentSearchResultsFields,id:"id",pen:t.pen}}):t._e()],1),a("nav",{attrs:{"aria-label":"Page Navigation"}},[a("ul",{staticClass:"pagination"},t._l(t.totalPages,(function(e){return a("li",{key:e,class:{"page-item":!0,active:e==t.selectedPage}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return t.advancedSearchPagination(e,10)}}},[t._v(t._s(e))])])})),0)])],1)],1)],1)],1)],1)])])},H=[],$=c.a.create({baseURL:"/api/students"}),B={getStudentByPen(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return $.get("/api/v1/pen/"+t,{headers:a})},getStudentsByAdvancedSearch(t,e,a=0,s=10){const r={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};let o="";for(var n in t)if(t.hasOwnProperty(n)&&t[n].value){let e=t[n].contains?"*":"";o+=n+"="+t[n].value+e+"&"}return $.get("/api/v1/studentsearch?"+o+"pageSize="+s+"&pageNumber="+a,{headers:r})}},q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"m-0 p-0",attrs:{fluid:""}},[a("b-button-toolbar",{staticClass:"float-left",attrs:{"key-nav":"","aria-label":"Toolbar with button groups"}},[a("b-button-group",{staticClass:"mx-1"},["administrator"==t.role&&t.createAllowed?a("b-button",{staticClass:"float-left",attrs:{variant:"success",size:"sm"},on:{click:function(e){t.addMode=!t.addMode}}},[t._v(t._s(t.addMode?"Cancel":"Add "+t.title)+" ")]):t._e(),t.isAdmin&&t.updateAllowed?a("b-btn",{staticClass:"float-right",class:(this.quickEdit,"btn-primary"),attrs:{size:"sm"},on:{click:t.toggleQuickEdit}},[t._v("Edit")]):t._e()],1)],1),a("b-row",[a("b-col",{staticClass:"px-0 float-left",attrs:{lg:"7"}}),"authenticated"==t.role?a("b-col",{staticClass:"pr-5 float-left",attrs:{lg:"7"}}):t._e(),a("b-col",{staticClass:"my-1",attrs:{lg:"5"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{staticClass:"mr-10",attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1)],1),t.addMode?a("b-row",{staticClass:"card my-4",attrs:{lg:"12"}},[a("b-card",{staticClass:"mb-1 mt-1",attrs:{title:"Add"+t.title}},[a("b-card-text",[t._l(this.fields,(function(e){return a("div",{key:e.key,staticClass:"col-6"},["delete"!=e.key&&"actions"!=e.key&&"more"!=e.key&&e.editable?a("div",[t._v(" "+t._s(e.label)+" "),a("b-input",{model:{value:t.itemToAdd[e.key],callback:function(a){t.$set(t.itemToAdd,e.key,a)},expression:"itemToAdd[field.key]"}})],1):t._e()])})),a("div",{staticClass:"col-12 my-3"},[a("b-button-toolbar",{staticClass:"float-left",attrs:{"key-nav":"","aria-label":"Toolbar with button groups"}},[a("b-button",{staticClass:"float-left btn-outline-primary",attrs:{variant:"outline-primary",size:"sm"},on:{click:t.cancelAddItem}},[t._v("Cancel")]),a("b-button",{staticClass:"float-left",attrs:{variant:"success",size:"sm"},on:{click:t.addItem}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Add")])],1)],1)],2)],1)],1):t._e(),a("b-table",{attrs:{items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,stacked:"sm","show-empty":"",striped:"",hover:"",small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([t._l(t.editableFields,(function(e){return{key:"cell("+e.key+")",fn:function(e){var s=e.value,r=e.item,o=e.field;return[t.itemRow&&t.itemRow[t.id]===r[t.id]&&!t.deleteMode?a("b-input",{key:o.key,staticClass:"pl-2",staticStyle:{height:"auto",padding:"0px"},attrs:{type:o.type||"text",number:o.isNumber},on:{keyup:t.validateInput},model:{value:t.itemRow[o.key],callback:function(e){t.$set(t.itemRow,o.key,e)},expression:"itemRow[field.key]"}}):t.itemRow&&t.itemRow[t.id]===r[t.id]&&t.deleteMode?[a("div",{key:o.key},[a("del",{staticClass:"text-danger"},[t._v(t._s(s))])])]:[t.quickEdit?a("div",{key:o.key,staticClass:"px-2",on:{click:function(e){return t.edit(r)}}},[t._v(" "+t._s(s)+" ")]):t._e(),t.quickEdit?t._e():a("div",{key:o.key,staticClass:"px-2"},[t._v(" "+t._s(s)+" ")])]]}}})),{key:"cell(actions)",fn:function(e){var s=e.item;return[t.itemRow&&t.itemRow[t.id]===s[t.id]&&t.editMode?a("b-button-group",[a("b-btn",{staticStyle:{width:"60px"},attrs:{variant:"success",size:"sm"},on:{click:t.saveEdit}},[t._v(" Save ")])],1):t._e()]}},t._l(t.$scopedSlots,(function(e,a){return{key:a,fn:function(e){return[t._t(a,null,null,e)]}}})),{key:"cell(delete)",fn:function(e){var s=e.item;return[t.itemRow&&t.itemRow[t.id]===s[t.id]&&t.deleteMode?a("b-button-group",[a("b-btn",{attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" Delete ")])],1):"administrator"==t.role&&t.quickEdit?a("b-btn",{staticClass:"square",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.confirmDelete(s)}}},[a("i",{staticClass:"fas fa-lg fa-times"})]):t._e()]}},{key:"cell(more)",fn:function(t){return[a("b-btn",{staticStyle:{color:"#666"},attrs:{variant:"outline primary",size:"xs"},on:{click:t.toggleDetails}},[a("i",{staticClass:"fas fa-sm fa-caret-down"})])]}},{key:"row-details",fn:function(e){return[a("b-card",[a("ul",t._l(e.item,(function(e,s,r){return a("li",{key:r},[t._v(t._s(s)+": "+t._s(e))])})),0)])]}}],null,!0)}),a("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[a("pre",[t._v(t._s(t.infoModal.content))])])],1)},V=[],z={props:["items","title","fields","id","create","update","delete","slots"],data(){return{quickEdit:!1,isAdmin:!1,updateAllowed:!1,deleteAllowed:!1,createAllowed:!1,editMode:!1,deleteMode:!0,addMode:!1,itemToAdd:[],showConfirm:!1,checked:"false",itemRow:null,tableFields:"notloaded",editItem:"notloaded",totalRows:1,currentPage:1,perPage:100,pageOptions:[10,20,50,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""}}},computed:{...Object(r["b"])({role:"getRoles"}),editableFields(){return this.fields.filter(t=>t.editable)},sortOptions(){return this.fields.filter(t=>t.sortable).map(t=>({text:t.label,value:t.key}))}},created(){window.addEventListener("keyup",this.validateInput),this.setAdmin(this.role),this.create&&this.isAdmin&&(this.createAllowed=!0),this.update&&this.isAdmin&&(this.updateAllowed=!0,this.fields.push({key:"actions",class:"d-none",label:"Edit"})),this.delete&&this.isAdmin&&(this.deleteAllowed=!0,this.fields.push({key:"delete",class:"d-none",label:"Delete"})),this.itemToAdd={...this.items[0]};for(var t=0;t<this.fields.length;t++)this.itemToAdd[this.fields[t].key]=""},mounted(){this.totalRows=this.items.length},methods:{toggleQuickEdit(){this.quickEdit=!this.quickEdit,this.resetEdit(),this.quickEdit?(this.fields[this.fields.length-1].class="d-block",this.fields[this.fields.length-2].class="d-block"):(this.fields[this.fields.length-1].class="d-none",this.fields[this.fields.length-2].class="d-none")},validateInput:function(t){27===t.keyCode?this.editMode?this.resetEdit():this.deleteMode&&this.cancelDelete():13===t.keyCode&&this.quickEdit&&this.editMode&&this.saveEdit()},setAdmin(t){this.isAdmin="administrator"==t},addItem(){var t=this.itemToAdd;this.items.push(t),this.addMode=!1,this.$bvToast.toast("Record was Added",{title:"Success",variant:"success"}),this.$store.dispatch(this.create,this.itemToAdd)},cancelAddItem(){this.addMode=!1},deleteItem(t){this.$store.dispatch(this.delete,t[this.id]),this.items.splice(this.items.indexOf(t),1),this.$bvToast.toast("Record was deleted",{title:"Success",variant:"success"}),this.cancelDelete(),this.deleteMode=!1},confirmDelete(t){this.deleteMode=!0,this.editMode=!1;let e=!0;this.itemRow&&!confirm("You have unsaved changes, are you sure you want to continue?")&&(e=!1),e&&(this.itemRow={...t})},edit(t){this.editMode=!0,this.deleteMode=!1;let e=!0;this.quickEdit||this.itemRow&&!confirm("You have unsaved changes, are you sure you want to continue?")&&(e=!1),e&&(this.itemRow={...t})},saveEdit(){let t=this.items.find(t=>t[this.id]===this.itemRow[this.id]);Object.assign(t,this.itemRow),this.$store.dispatch(this.update,t),this.resetEdit(),this.$bvToast.toast("Record was saved/updated",{title:"Success",variant:"success"})},cancelDelete(){this.itemRow=null,this.deleteMode=!1},resetEdit(){this.itemRow=null,this.editMode=!1},info(t,e,a){this.infoModal.title="Row index: "+e,this.infoModal.content=JSON.stringify(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,a)},resetInfoModal(){this.infoModal.title="",this.infoModal.content=""},onFiltered(t){this.totalRows=t.length,this.currentPage=1}}},K=z,Y=Object(_["a"])(K,q,V,!1,null,"e2e9080e",null),W=Y.exports,J={name:"studentSearch",data(){return{genderOptions:[{value:null,text:"Please select an option"},{value:"M",text:"Male"},{value:"F",text:"Female"},{value:"X",text:"Gender Diverse"},{value:"U",text:"Unknown"}],studentSearchResults:[],studentSearchResultsFields:[{key:"pen",label:"PEN",sortable:!1,editable:!1,class:"w-1"},{key:"legalLastName",label:"Legal Surname",sortable:!1,editable:!1,class:"w-1"},{key:"usualLastName",label:"Usual Surname",sortable:!1,editable:!1,class:"w-1"},{key:"legalFirstName",label:"Legal Given/Usual",sortable:!1,editable:!1,class:"w-1"},{key:"usualFirstName",label:"Usual Given",sortable:!1,editable:!1,class:"w-1"},{key:"legalMiddleNames",label:"Legal Middle/Usual",sortable:!1,editable:!1,class:"w-1"},{key:"usualMiddleNames",label:"Usual Middle",sortable:!1,editable:!1,class:"w-1"},{key:"dob",label:"Birthdate",sortable:!0,editable:!1,class:"w-1"},{key:"genderCode",label:"Gender",sortable:!0,editable:!1,class:"w-1"},{key:"schoolName",label:"School (SLD)",sortable:!0,editable:!1,class:"w-1"},{key:"program",label:"Program (GRAD)",sortable:!0,editable:!1,class:"w-1"},{key:"gradeCode",label:"Student Grade (GRAD)",sortable:!0,editable:!1,class:"w-1"},{key:"schoolOfRecord",label:"School of Record (GRAD)",sortable:!0,editable:!1,class:"w-1"},{key:"schoolName",label:"School of Record Name (GRAD)",sortable:!0,editable:!1,class:"w-1"},{key:"statusCode",label:"Student Status (GRAD)",sortable:!0,editable:!1,class:"w-1"},{key:"statusCode",label:"School Independent Affiliation (GRAD)",sortable:!0,editable:!1,class:"w-1"}],totalElements:"",numberOfElements:"",totalPages:"",selectedPage:"",searchByPenMessage:"",advancedSearchMessage:"",errorMessage:"",penInput:"",selectedPen:"",variants:["success"],searchLoading:!1,advancedSearchLoading:!1,showAdvancedSearchForm:!1,advancedSearchInput:{legalFirstName:{value:"",contains:!1},legalLastName:{value:"",contains:!1},legalMiddleNames:{value:"",contains:!1},gender:{value:"",contains:!1},mincode:{value:"",contains:!1},localId:{value:"",contains:!1},birthdateFrom:{value:"",contains:!1,error:!1},birthdateTo:{value:"",contains:!1},usualFirstName:{value:"",contains:!1},usualLastName:{value:"",contains:!1},usualMiddleNames:{value:"",contains:!1}}}},created(){},components:{DisplayTable:W},computed:{...Object(r["b"])({profile:"getStudentProfile",courses:"getStudentCourses",exams:"getStudentExams",gradStatus:"getStudentGradStatus",token:"getToken"})},methods:{keyHandler:function(t){13===t.keyCode&&(this.studentSearchResults=[],this.penInput?this.findStudentByPen():this.surnameInput&&this.findStudentBySurname())},findStudentByPenSample:function(t){this.penInput=t,this.findStudentByPen()},findStudentByPen:function(){this.penInput&&(this.searchByPenMessage="",this.searchLoading=!0,this.studentSearchResults=[],B.getStudentByPen(this.penInput,this.token).then(t=>{t.data&&this.selectStudent(t.data)}).catch(()=>{this.searchLoading=!1,this.searchByPenMessage="Student not found"}))},findStudentsByAdvancedSearch:function(){if(this.message="",this.errorMessage="",this.advancedSearchValidate(this.advancedSearchInput)){this.advancedSearchLoading=!0,this.studentSearchResults=[],this.advancedSearchInput.birthdateTo.value||(this.advancedSearchInput.birthdateTo.value=this.advancedSearchInput.birthdateFrom.value);try{B.getStudentsByAdvancedSearch(this.advancedSearchInput,this.token).then(t=>{this.advancedSearchLoading=!1,this.searchResults=t.data,this.studentSearchResults=t.data.gradSearchStudents,this.totalElements=this.searchResults.totalElements,this.numberOfElements=this.searchResults.numberOfElements,this.totalPages=this.searchResults.totalPages,this.searchResults.totalElements,this.advancedSearchMessage=this.searchResults.totalElements+" student(s) found. Showing "+this.searchResults.numberOfElements+" results. Number of Pages: "+this.searchResults.totalPages}).catch(t=>{this.advancedSearchLoading=!1,this.advancedSearchMessage="Student not found",this.errorMessage=t})}catch(t){this.advancedSearchLoading=!1,this.advancedSearchMessage="Advanced Search Error"}}},advancedSearchPagination:function(t,e){if(this.advancedSearchMessage="",this.errorMessage="",this.selectedPage=t,this.isEmpty(this.advancedSearchInput))this.message="Enter at least one field to search.";else{this.advancedSearchLoading=!0,this.studentSearchResults=[],this.advancedSearchInput.birthdateTo.value||(this.advancedSearchInput.birthdateTo.value=this.advancedSearchInput.birthdateFrom.value);try{B.getStudentsByAdvancedSearch(this.advancedSearchInput,this.token,t-1,e).then(t=>{this.advancedSearchLoading=!1,this.searchResults=t.data,this.studentSearchResults=t.data.gradSearchStudents,this.totalElements=this.searchResults.totalElements,this.numberOfElements=this.searchResults.numberOfElements,this.totalPages=this.searchResults.totalPages,this.message=this.searchResults.totalElements+" student(s) found. Showing "+this.searchResults.numberOfElements+" results. Number of Pages: "+this.searchResults.totalPages}).catch(t=>{this.advancedSearchLoading=!1,this.message="Student not found",this.errorMessage=t})}catch(a){}}},showAdvancedSearch:function(){this.showAdvancedSearchForm=!0},selectStudent:function(t){this.selectedPen=t[0].pen,this.$router.push({path:"/student-profile/"+this.selectedPen})},clearStudent:function(){},clearInput:function(){for(var t in this.penInput="",this.advancedSearchInput)this.advancedSearchInput.hasOwnProperty(t)&&(this.advancedSearchInput[t].value="",this.advancedSearchInput[t].contains=!1)},advancedSearchValidate(t){let e=!0,a=!0;for(var s in t)if(t.hasOwnProperty(s)&&""!=t[s].value&&(a=!1,"mincode"==s&&(!1===!isNaN(t[s].value)?(this.advancedSearchMessage="Mincode must contain digits only",e=!1):t[s].value.length>=1&&t[s].value.length<=7?(this.advancedSearchMessage+="Add wild card",t[s].contains=!0):8!=t[s].value.length&&(this.advancedSearchMessage+="mincode must be between 1-8 digits. ",e=!1)),"birthdateFrom"==s)){let a=Date.parse(t[s].value),r=new Date;a>r&&(this.advancedSearchMessage+="The Birthdate From must be greater than today. ",e=!1)}return a&&(e=!1,this.message+="Enter at least one field to search."),e},isEmpty(t){let e=!0;for(var a in t)t.hasOwnProperty(a)&&""!=t[a]&&(e=!1);return e}}},X=J,Q=(a("4593"),Object(_["a"])(X,F,H,!1,null,"b43da44a",null)),Z=Q.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.displayMessage?a("SiteMessage",{attrs:{message:this.displayMessage}}):t._e(),a("div",{staticClass:"row p-3 m-0"},[a("div",{staticClass:"col-md-10 col-12"},[t.smallScreen?t._e():a("table",{staticClass:"profile-name"},[t._m(0),a("tr",[t.studentFullName.pen?a("td",{staticClass:"align-top profile-name-data"},[a("h1",[t._v(t._s(t.studentFullName.pen))])]):t._e(),t.studentFullName.legalLastName?a("td",{staticClass:"align-top profile-name-data"},[a("h1",[t._v(t._s(t.studentFullName.legalLastName))])]):t._e(),t.studentFullName.legalFirstName?a("td",{staticClass:"align-top profile-name-data"},[a("h1",[t._v(t._s(t.studentFullName.legalFirstName))])]):t._e(),t.studentFullName.legalMiddleNames?a("td",{staticClass:"align-top profile-name-data"},[a("h1",[t._v(t._s(t.studentFullName.legalMiddleNames))])]):t._e()])]),t.smallScreen?a("div",{staticClass:"profile-name"},[t.studentFullName.pen?a("div",{staticClass:"p-0 profile-name-data"},[a("label",[t._v("PEN")]),a("h2",{staticClass:"px-0"},[t._v(t._s(t.studentFullName.pen))])]):t._e(),t.studentFullName.legalLastName?a("div",{staticClass:"p-0 profile-name-data"},[a("label",[t._v("Legal Surname")]),a("h2",{staticClass:"px-0"},[t._v(t._s(t.studentFullName.legalLastName))])]):t._e(),t.studentFullName.legalFirstName?a("div",{staticClass:"p-0 profile-name-data"},[a("label",[t._v("Legal Given")]),a("h2",{staticClass:"px-0"},[t._v(t._s(t.studentFullName.legalFirstName))])]):t._e(),t.studentFullName.legalMiddleNames?a("div",{staticClass:"p-0 profile-name-data"},[a("label",[t._v("Legal Middle")]),a("h2",{staticClass:"px-0"},[t._v(t._s(t.studentFullName.legalMiddleNames))])]):t._e()]):t._e(),a("StudentInfo")],1),a("div",{staticClass:"col-md-2 col-12"},[a("div",{staticClass:"row px-0"},[a("b-button",{staticClass:"col-6 col-md-12 close-record",attrs:{variant:"primary",size:"sm"},on:{click:t.closeRecord}},[a("i",{staticClass:"far fa-times-circle"}),t._v(" Close ")]),a("b-dropdown",{staticClass:"col-6 col-md-12 px-0 close-record",attrs:{variant:"outline-primary",id:"dropdown-1",size:"sm",text:"Record details"}},[t.hasGradStatus?a("div",[a("b-dropdown-item",{staticClass:"no-underline",attrs:{disabled:""}},[t._v("Created by: "+t._s(t.gradInfo.createdBy))]),a("b-dropdown-item",{attrs:{disabled:""}},[t._v("Created: "+t._s(t.gradInfo.createdTimestamp))]),a("b-dropdown-divider"),a("b-dropdown-item",{attrs:{disabled:""}},[t._v("Updated by: "+t._s(t.gradInfo.updatedBy))]),a("b-dropdown-item",{attrs:{disabled:""}},[t._v("Updated: "+t._s(t.gradInfo.updatedTimestamp))])],1):t._e(),t.hasGradStatus?t._e():a("div",{staticClass:"p-3"},[t._v(" This student has no graduation record details. ")])])],1)])]),a("div",{staticClass:"row col-12 p-3 m-0"},[t.smallScreen?t._e():a("div",{staticClass:"col-4"},[a("StudentGraduationStatus")],1),a("div",{staticClass:"col-md-12 col-lg-8 px-0"},[a("div",[a("b-card",{staticClass:"py-1"},[a("b-tabs",{attrs:{pills:t.smallScreen}},[t.smallScreen?a("b-tab",{ref:"studentCoursesTab",staticClass:"py-3 px-0 m-1 ",attrs:{title:"Graduation Status"}},[a("b-card-text",[a("StudentGraduationStatus")],1)],1):t._e(),a("b-tab",{staticClass:"py-3 px-0 m-1",attrs:{title:"Courses"}},[t.studentHasCourses?t._e():a("b-card-text",[t._v("Loading Student Courses "),a("b-spinner",{attrs:{variant:"success",label:"Spinning"}})],1),t.studentHasCourses?a("b-card-text",[a("StudentCourses",[t.hasGradStatus?a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:"Course requirements met"==this.courseViewMode,expression:"this.courseViewMode == 'Course requirements met'"}]},[a("h2",[t._v("Course Requirements Met")]),a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",[t._v("Course Code")]),a("th",[t._v("Course Level")]),a("th",[t._v("Course Name")]),a("th",[t._v("Session Date")]),a("th",[t._v("Grad Req Met")])])]),a("tbody",[t._l(t.studentGradStatus.studentGradData.studentCourses.studentCourseList,(function(e,s){return[e.gradReqMet?a("tr",{key:s},[a("td",{attrs:{scope:"row"}},[t._v(t._s(e.courseCode))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.courseLevel))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.courseName))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.sessionDate))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.gradReqMet))])]):t._e()]}))],2)])])]):t._e()])],1):t._e()],1),a("b-tab",{staticClass:"py-3 px-0 m-1",attrs:{title:"Requirements Met"}},[t.studentHasCourses?t._e():a("b-card-text",[t._v("Loading Student Courses "),a("b-spinner",{attrs:{variant:"success",label:"Spinning"}})],1),t.studentHasCourses?a("b-card-text",[t.hasGradStatus?a("div",[a("h2",[t._v("Course Requirements Met")]),a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",[t._v("Course Code")]),a("th",[t._v("Course Level")]),a("th",[t._v("Course Name")]),a("th",[t._v("Session Date")]),a("th",[t._v("Grad Req Met")])])]),a("tbody",[t._l(t.studentGradStatus.studentGradData.studentCourses.studentCourseList,(function(e,s){return[e.gradReqMet?a("tr",{key:s},[a("td",{attrs:{scope:"row"}},[t._v(t._s(e.courseCode))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.courseLevel))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.courseName))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.sessionDate))]),a("td",{attrs:{scope:"row"}},[t._v(t._s(e.gradReqMet))])]):t._e()]}))],2)])]):t._e()]):t._e()],1),t.studentHasAssessments?a("b-tab",{staticClass:"py-3 px-0 m-1",attrs:{title:"Assessments"}},[a("b-card-text",[a("StudentAssessments")],1)],1):t._e(),t.studentHasExams?a("b-tab",{staticClass:"py-3 px-0 m-1",attrs:{title:"Exams"}},[a("b-card-text",[a("StudentExams")],1)],1):t._e(),"not loaded"==this.courses||"not loaded"==this.exams||"not loaded"==this.assessments?a("b-tab",{staticClass:"tab-loading py-3 px-0 m-1",attrs:{title:"Loading ..."}},[a("b-card-text",{staticClass:"text-center"},[t._v("Loading Student Courses, Exams and Assesments")])],1):t._e()],1)],1)],1)])])],1)},et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"align-top profile-name-header"},[a("label",[t._v("PEN")])]),a("td",{staticClass:"align-top profile-name-header"},[a("label",[t._v("Legal Surname")])]),a("td",{staticClass:"align-top profile-name-header"},[a("label",[t._v("Legal Given")])]),a("td",{staticClass:"align-top profile-name-header"},[a("label",[t._v("Legal Middle")])])])}];const at=c.a.create({baseURL:"/api/course-achievement"});var st={getStudentCourseAchievements(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return at.get("/api/v1/studentcourse/pen/"+t,{headers:a})}};const rt=c.a.create({baseURL:"/api/student-exams"});var ot={getStudentExams(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return rt.get("/api/v1/studentexam/pen/"+t,{headers:a})}};const nt=c.a.create({baseURL:"/api/student-assessments"});var it={getStudentAssessment(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return nt.get("/api/v1/studentassessment/pen/"+t,{headers:a})}};const dt=c.a.create({baseURL:"/api/graduation-status"});var lt={getGraduationStatus(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return dt.get("/api/v1/gradstatus/pen/"+t,{headers:a})},editGraduationStatus(t,e,a){const s={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return dt.post("/api/v1/gradstatus/gradstudent/pen/"+t,a,{headers:s})}},ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"alert alert-dismissible alert-success"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"}},[t._v("×")]),a("div",{staticClass:"message"},[a("strong",[a("div",{domProps:{innerHTML:t._s(t.message)}})])])])])},ut=[],pt={props:{message:String},created(){this.message=this.$route.params.message}},mt=pt,ht=(a("6114"),Object(_["a"])(mt,ct,ut,!1,null,"08d04b8c",null)),vt=ht.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table-responsive"},[t.courses.length?t._e():a("b-spinner",{attrs:{label:"Loading"}},[t._v("Loading")]),a("v-table",{staticClass:"table table-sm table-hover table-striped align-middle",attrs:{data:t.courses,filters:t.filters},scopedSlots:t._u([{key:"body",fn:function(e){var s=e.displayData;return a("tbody",{},[t._l(s,(function(e){return[a("tr",{key:e.courseAchievementId,ref:t.createRef(e.pen,e.courseCode,e.courseLevel,e.sessionDate),refInFor:!0,class:{opened:t.opened.includes(e.courseCode)},on:{click:function(a){return t.toggle(e.courseCode+e.courseLevel)}}},[a("td",[t._v(t._s(e.courseCode))]),a("td",[t._v(t._s(e.courseLevel))]),a("td",[t._v(t._s(e.sessionDate))]),a("td",[t._v(t._s(e.courseName))]),a("td",[t._v(t._s(e.courseEquivChal))]),a("td",[t._v(t._s(e.credits))]),a("td",[t._v(t._s(e.interimPercent)+"% "),a("br"),t._v(t._s(e.interimLetterGrade))]),a("td",[t._v(t._s(e.completedCoursePercentage)+"% "),a("br"),t._v(t._s(e.completedCourseLetterGrade))]),a("td",[t._v(t._s(e.creditsUsedForGrad))]),a("td",[t._v(t._s(e.gradReqMet))])])]}))],2)}}])},[a("thead",{attrs:{slot:"head"},slot:"head"},[a("v-th",{attrs:{sortKey:"courseCode"}},[t._v("Code")]),a("v-th",{attrs:{sortKey:"courseLevel"}},[t._v("Level")]),a("v-th",{attrs:{sortKey:"sessionDate"}},[t._v("Session")]),a("v-th",{attrs:{sortKey:"courseName"}},[t._v("Name")]),a("v-th",{attrs:{sortKey:"courseEquivChal"}},[t._v("Equiv, Chal")]),a("v-th",{attrs:{sortKey:"credits"}},[t._v("Credits")]),a("v-th",{attrs:{sortKey:"interimPercent"}},[t._v("Interim %")]),a("v-th",{attrs:{sortKey:"completedCourseLetterGrade"}},[t._v("Final %")]),a("v-th",{attrs:{sortKey:"creditsUsedForGrad"}},[t._v("Grad Credits")]),a("v-th",{attrs:{sortKey:"programCode"}},[t._v("Req Code")])],1)])],1)])},_t=[],bt={name:"StudentCourses",components:{},props:{},computed:{...Object(r["b"])({courses:"getStudentCourses",gradStatusCourses:"gradStatusCourses",studentGradStatus:"getStudentGradStatus",hasGradStatus:"studentHasGradStatus",hasGradStatusPendingUpdates:"getHasGradStatusPendingUpdates"})},data:function(){return{fields:["courseCode","courseCode","courseLevel","sessionDate","courseName","courseEquivChal","credits","interimLetterGrade","completedCoursePercentage","completedCourseLetterGrade"],fields2:[{key:"courseCode",label:"Course Code",sortable:!0,sortDirection:"desc"},{key:"codeLevel",label:"Code Level",sortable:!0,class:"text-center"},{key:"sessionDate",label:"Session Date",sortable:!0,sortDirection:"desc"},{key:"courseName",label:"Course Name",sortable:!0,class:"text-center"},{key:"courseEquivChal",label:"Course Equivalent Challenge",sortable:!0,sortDirection:"desc"},{key:"credits",label:"Credits",sortable:!0,class:"text-center"},{key:"interimLetterGrade",label:"Intermediate Letter Grade",sortable:!0,sortDirection:"desc"},{key:"completedCoursePercentage",label:"Completed Course Percentage"},{key:"isActive",label:"Is Active",formatter:t=>t?"Yes":"No",sortable:!0,sortByFormatted:!0,filterByFormatted:!0},{key:"actions",label:"Actions"}],gradStatusPendingUpdates:[],show:!1,opened:[],message:"",achievements:[],InputCourse:"",student:[],InputPen:"",filters:{name:{value:"",keys:["courseCode"]}},pen:"",sessionDate:"",finalPercent:"",interimPercent:"",finalLetterGrade:"",credits:"",courseId:"",courseType:"",interimLetterGrade:"",currentPage:1,totalPages:0,displayMessage:null,modalVisible:null,inputPenMissing:!1,count:0}},created(){this.hasGradStatus&&this.checkForPendingUpdates()},methods:{toggle(t){const e=this.opened.indexOf(t);e>-1?this.opened.splice(e,1):this.opened.push(t)},checkForPendingUpdates(){let t=0,e=0;if(this.hasGradStatus){for(t=0;t<this.courses.length;t++)this.courses[t].gradReqMet=this.getProgramCode(this.courses[t]);for(t=0;t<this.gradStatusCourses.length;t++){let a=!0;for(e=0;e<this.courses.length;e++)if(this.courses[e].courseCode+this.courses[e].courseLevel+this.courses[e].sessionDate+this.courses[e].pen==this.gradStatusCourses[t].courseCode+this.gradStatusCourses[t].courseLevel+this.gradStatusCourses[t].sessionDate+this.gradStatusCourses[t].pen){a=!1;break}a&&this.gradStatusPendingUpdates.push(this.gradStatusCourses[t].courseName+"REMOVED")}this.gradStatusPendingUpdates.length?this.$store.dispatch("setHasGradStatusPendingUpdates",!0):this.$store.dispatch("setHasGradStatusPendingUpdates",!1)}},compareCourses(t,e){return this.fields.forEach((function(a){if(t[a]!=e[a])return!1})),!0},getProgramCode(t){var e=this.gradStatusCourses.filter((function(e){return e.pen+e.courseCode+e.courseLevel+e.sessionDate==t.pen+t.courseCode+t.courseLevel+t.sessionDate}));return e.length?e[0].gradReqMet?this.compareCourses(e[0],t)?e[0].gradReqMet:(this.gradStatusPendingUpdates.push(t.courseName+"UPDATED"),"TBD - Modified"):"---":(this.gradStatusPendingUpdates.push(t.courseName+" ADDED"),"TBD - New Course Added")},createRef(t,e,a,s){return t.trim()+e.trim()+a.trim()+s.trim()}}},St=bt,ft=(a("bc40"),Object(_["a"])(St,gt,_t,!1,null,null,null)),Ct=ft.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"student-info"},[a("div",[a("strong",[t._v("Birthdate:")]),t._v(" "+t._s(t.studentInfo.dob))])])])},Pt=[],At={name:"StudentInfo",computed:{...Object(r["b"])({studentInfo:"getStudentProfile"})},created(){}},kt=At,Gt=(a("d9a1"),Object(_["a"])(kt,yt,Pt,!1,null,"42257fd4",null)),wt=Gt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive"},[t.exams.length?t._e():a("b-spinner",{attrs:{label:"Loading"}},[t._v("Loading")]),a("v-table",{staticClass:"table table-sm table-hover table-striped align-middle",attrs:{data:t.exams,filters:t.filters},scopedSlots:t._u([{key:"body",fn:function(e){var s=e.displayData;return a("tbody",{},[t._l(s,(function(e){return[a("tr",{key:e.courseAchievementId,class:{opened:t.opened.includes(e.courseCode)},on:{click:function(a){return t.toggle(e.courseCode+e.courseLevel)}}},[a("td",[t._v(t._s(e.courseCode))]),a("td",[t._v(t._s(e.courseLevel))]),a("td",[t._v(t._s(e.sessionDate))]),a("td",[t._v(t._s(e.courseName))]),a("td",[t._v(t._s(e.courseEquivChal))]),a("td",[t._v(t._s(e.credits))]),a("td",[t._v(t._s(e.completedCourseSchoolPercentage)+" %")]),a("td",[t._v(t._s(e.wroteFlag))]),a("td",[t._v(t._s(e.specialCase))]),a("td",[t._v(t._s(e.completedCourseExamPercentage))]),a("td",[t._v(t._s(e.completedCourseFinalPercentage))]),a("td",[t._v(t._s(e.completedCourseLetterGrade))])])]}))],2)}}])},[a("thead",{attrs:{slot:"head"},slot:"head"},[a("v-th",{attrs:{sortKey:"courseCode"}},[t._v("Code")]),a("v-th",{attrs:{sortKey:"courseLevel"}},[t._v("Level")]),a("v-th",{attrs:{sortKey:"sessionDate"}},[t._v("Session")]),a("v-th",{attrs:{sortKey:"courseName"}},[t._v("Name")]),a("v-th",{attrs:{sortKey:"courseEquivChal"}},[t._v("Equiv, Chal")]),a("v-th",{attrs:{sortKey:"credits"}},[t._v("Credits")]),a("v-th",{attrs:{sortKey:"completedCourseSchoolPercentage"}},[t._v("School %")]),a("v-th",{attrs:{sortKey:"wroteFlag"}},[t._v("Wrote exam")]),a("v-th",{attrs:{sortKey:"specialCase"}},[t._v("Special case")]),a("v-th",{attrs:{sortKey:"completedCourseExamPercentage"}},[t._v("Exam %")]),a("v-th",{attrs:{sortKey:"completedCourseFinalPercentage"}},[t._v("Final %")]),a("v-th",{attrs:{sortKey:"completedCourseLetterGrade"}},[t._v("Final LG")])],1)])],1)},Tt=[],Et={name:"StudentExams",props:{},computed:{...Object(r["b"])({exams:"getStudentExams"})},data:function(){return{show:!1,opened:[],student:[],examsList:[],filters:{name:{value:"",keys:["courseCode"]}},pen:"",courseCode:"",courseName:"",courseLevel:"",sessionDate:"",gradReqMet:"",courseType:"",completedCourseSchoolPercentage:null,completedCourseExamPercentage:null,completedCourseFinalPercentage:null,completedCourseLetterGrade:"",interimPercent:null,interimLetterGrade:"",credits:null,creditsUsedForGrad:null,reqMetLiteracyNumeracy:"",wroteFlag:"",specialCase:" ",currentPage:1,totalPages:0,displayMessage:null,modalVisible:null,inputPenMissing:!1}},methods:{toggle(t){const e=this.opened.indexOf(t);e>-1?this.opened.splice(e,1):this.opened.push(t)},showMsgBoxOne(t){this.$bvModal.msgBoxOk(t)},getCourseName:function(t){let e="";return this.courses.filter((function(a){if(a.id===t)return e=a.name,e})),e}}},xt=Et,Dt=(a("6e10"),Object(_["a"])(xt,Rt,Tt,!1,null,null,null)),Nt=Dt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive"},[t.assessments.length?t._e():a("b-spinner",{attrs:{label:"Loading"}},[t._v("Loading")]),a("v-table",{staticClass:"table table-sm table-hover table-striped align-middle",attrs:{data:t.assessments,filters:t.filters},scopedSlots:t._u([{key:"body",fn:function(e){var s=e.displayData;return a("tbody",{},[t._l(s,(function(e){return[a("tr",{key:e.courseAchievementId,class:{opened:t.opened.includes(e.courseCode)},on:{click:function(a){return t.toggle(e.courseCode+e.courseLevel)}}},[a("td",[t._v(t._s(e.assessmentCode))]),a("td",[t._v(t._s(e.sessionDate))]),a("td",[t._v(t._s(e.assessmentName))]),a("td",[t._v(t._s(e.specialCase))]),a("td",[t._v(t._s(e.exceededWriteFlag))]),a("td",[t._v(t._s(e.wroteFlag))]),a("td",[t._v(t._s(e.rawScore))]),a("td",[t._v(t._s(e.percentComplete)+" %")]),a("td",[t._v(t._s(e.irtScore))]),a("td",[t._v(t._s(e.proficiencyScore))]),a("td",[t._v(t._s(e.gradReqMet))])])]}))],2)}}])},[a("thead",{attrs:{slot:"head"},slot:"head"},[a("v-th",{attrs:{sortKey:"assessmentCode"}},[t._v("Code")]),a("v-th",{attrs:{sortKey:"sessionDate"}},[t._v("Session")]),a("v-th",{attrs:{sortKey:"assessmentName"}},[t._v("Name")]),a("v-th",{attrs:{sortKey:"specialCase"}},[t._v("Special case")]),a("v-th",{attrs:{sortKey:"exceededWriteFlag"}},[t._v("Exceeded writes flag")]),a("v-th",{attrs:{sortKey:"wroteFlag"}},[t._v("Wrote flag")]),a("v-th",{attrs:{sortKey:"rawScore"}},[t._v("Raw score")]),a("v-th",{attrs:{sortKey:"percentComplete"}},[t._v("% Complete")]),a("v-th",{attrs:{sortKey:"irtScore"}},[t._v("IRT score")]),a("v-th",{attrs:{sortKey:"proficiencyScore"}},[t._v("Proficiency score")]),a("v-th",{attrs:{sortKey:"gradReqMet"}},[t._v("Req Met")])],1)])],1)},It=[],Mt={name:"StudentAssessments",props:{},computed:{...Object(r["b"])({assessments:"getStudentAssessments"})},data:function(){return{show:!1,opened:[],student:[],examsList:[],filters:{name:{value:"",keys:["courseCode"]}},pen:"",assessmentCode:"",assessmentName:"",sessionDate:"",proficiencyScore:0,gradReqMet:"",specialCase:"",wroteFlag:"",rawScore:0,irtScore:0,currentPage:1,totalPages:0,displayMessage:null,modalVisible:null,inputPenMissing:!1}},methods:{toggle(t){const e=this.opened.indexOf(t);e>-1?this.opened.splice(e,1):this.opened.push(t)},showMsgBoxOne(t){this.$bvModal.msgBoxOk(t)},getCourseName:function(t){let e="";return this.courses.filter((function(a){if(a.id===t)return e=a.name,e})),e}}},Lt=Mt,jt=(a("31a4"),Object(_["a"])(Lt,Ot,It,!1,null,null,null)),Ut=jt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.hasGradStatus?t._e():a("b-card",{staticClass:"col-12 px-0 mx-0",attrs:{"no-body":""}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"text-left",attrs:{block:"",variant:"primary"}},[t._v(" Graduation information")]),a("b-card-body",[a("b-card-text",[t._v(" "+t._s(t.studentGradStatus)+" "),t.hasGradStatus?t._e():a("div",[t._v(" "+t._s(t.studentFullName.studGiven)+" does not have a Graduation Status ")])])],1)],1),t.hasGradStatus?a("div",{staticClass:"accordion col-12 px-0 mx-0",attrs:{role:"tablist"}},[a("b-card",{staticClass:"col-12 px-0 mx-0",attrs:{"no-body":""}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"text-left pt-4",attrs:{block:"",variant:"info"}},[a("i",{staticClass:"fas fa-info-circle primary"}),t._v(" Student graduation information")]),a("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-card-text",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 px-0"},[a("div",[a("button",{staticClass:"w-50 float-left btn-primary btn-sm",on:{click:function(e){return t.projectGraduationStatus(t.studentPen)}}},[a("i",{staticClass:"fas fa-eye"}),t._v(" Projected"),a("br"),t._v(" Graduation Status ")]),a("b-modal",{attrs:{id:"modal-1",size:"lg"}},[t.showModal?a("div",{staticClass:"row col-12"},[a("div",{staticClass:"col-12 header"},[a("h2",[t._v("Projected Graduation status")])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"col-12 header"},[a("h4",[t._v("Graduation status")])]),a("ul",[a("li",[a("strong",[t._v("Program:")]),t._v(" "+t._s(t.projectedStudentGradStatus.program)+" ")]),a("li",[a("strong",[t._v("Program completion date:")]),t._v(" "+t._s(t.projectedStudentGradStatus.programCompletionDate)+" ")]),a("li",[a("strong",[t._v("Program at graduation:")]),t._v(" "+t._s(t.projectedStudentGradStatus.gradProgramAtGraduation)+" ")]),a("li",[a("strong",[t._v("School of Record:")])]),a("li",[a("strong",[t._v("School of Record:")]),a("div",{staticClass:"p-2"},[a("span",{staticClass:"link",attrs:{href:"#",id:"popover-button-sync",variant:"primary"}},[t._v(t._s(t.projectedStudentGradStatus.studentGradData.school.schoolName)+" ("+t._s(t.projectedStudentGradStatus.studentGradData.school.minCode)+") ")])]),a("b-popover",{attrs:{show:t.show,"boundary-padding":50,target:"popover-button-sync",title:"School Information"},on:{"update:show":function(e){t.show=e}}},[a("p",[a("strong",[t._v("District:")]),t._v(" "+t._s(t.projectedStudentGradStatus.studentGradData.school.districtName))]),a("p",[a("strong",[t._v("Certificate eligibility:")]),t._v(" "+t._s(t.projectedStudentGradStatus.studentGradData.school.certificateEligibility))]),a("p",[a("strong",[t._v("Independent:")]),t._v(" "+t._s(t.projectedStudentGradStatus.studentGradData.school.independentDesignation)+" ")]),a("p",[a("strong",[t._v("Mailer type:")]),t._v(" "+t._s(t.projectedStudentGradStatus.studentGradData.school.mailerType))]),a("p",[a("strong",[t._v("Address:")]),t._v(" "+t._s(t.projectedStudentGradStatus.studentGradData.school.address1))]),a("p",[a("strong",[t._v("Postal:")]),t._v(" "+t._s(t.projectedStudentGradStatus.studentGradData.school.postal))]),a("b-button",{staticClass:"px-1",on:{click:t.popClose}},[t._v("Close")])],1)],1),t.projectedStudentGradStatus.studentGrade?a("li",[a("strong",[t._v("Grade at graduation:")]),t._v(" "+t._s(t.projectedStudentGradStatus.studentGrade)+" ")]):t._e(),t.projectedStudentGradStatus.graduationDate?a("li",[a("strong",[t._v("Graduation Date:")]),t._v(" "+t._s(t.projectedStudentGradStatus.graduationDate)+" ")]):t._e(),a("li",[a("strong",[t._v("Credits used for Graduation:")]),t._v(" "+t._s(t.projectedStudentGradStatus.creditsUsedForGrad)+" ")]),t.projectedStudentGradStatus.gpa?a("li",[a("strong",[t._v("GPA:")]),t._v(" "+t._s(t.projectedStudentGradStatus.gpa)+" ")]):t._e(),t.projectedStudentGradStatus.honoursFlag?a("li",[a("strong",[t._v("Honours:")]),t._v(" "+t._s(t.projectedStudentGradStatus.honoursFlag)+" ")]):t._e(),t.projectedStudentGradStatus.sccpGraduationDate?a("li",[a("strong",[t._v("School Completion Certificate Program (SCCP) Graduation Date:")]),t._v(t._s(t.projectedStudentGradStatus.sccpGraduationDate)+" ")]):t._e(),t.projectedStudentGradStatus.schoolAtGrad?a("li",[a("strong",[t._v("School at Graduation:")]),t._v(t._s(t.projectedStudentGradStatus.schoolAtGrad)+" ")]):t._e(),t.projectedStudentGradStatus.studentGradeAtGraduation?a("li",[a("strong",[t._v("Grade at Graduation:")]),t._v(t._s(t.projectedStudentGradStatus.studentGradeAtGraduation)+" ")]):t._e()]),a("div",{staticClass:"col-12 header"},[a("h4",[t._v("Certification/Dogwoods")])]),a("ul",[t.projectedStudentGradStatus.certificateType1?a("li",[a("strong",[t._v("Certificate #1:")]),t._v(" "+t._s(t.projectedStudentGradStatus.certificateType1)+" "),a("br"),t.projectedStudentGradStatus.certificateType1Date?a("span",[a("strong",[t._v("Date obtained:")]),t._v(" "+t._s(t.projectedStudentGradStatus.certificateType1Date)+" ")]):t._e()]):t._e()]),a("ul",[t.projectedStudentGradStatus.certificateType2?a("li",[a("strong",[t._v("Certificate #2:")]),t._v(" "+t._s(t.projectedStudentGradStatus.certificateType2)+" "),a("br"),t.projectedStudentGradStatus.certificateType2Date?a("span",[a("strong",[t._v("Date obtained:")]),t._v(" "+t._s(t.projectedStudentGradStatus.certificateType2Date)+" ")]):t._e()]):t._e()]),a("ul",[t.projectedStudentGradStatus.dualDogwoodEligibility?a("li",[a("strong",[t._v("Dual Dogwood")]),t._v(t._s(t.projectedStudentGradStatus.dualDogwoodEligibility)+" ")]):t._e(),t.projectedStudentGradStatus.transcriptDate?a("li",[a("strong",[t._v("Transcript Date:")]),t._v(" "+t._s(t.projectedStudentGradStatus.transcriptDate)+" ")]):t._e()]),a("div",{staticClass:"col-12 header"},[a("h4",[t._v("Special programs")])]),a("ul",[t.projectedStudentGradStatus.frenchProgramParticipation?a("li",[a("strong",[t._v("Program Cadre:")]),t._v(" "+t._s(t.projectedStudentGradStatus.frenchProgramParticipation)+" ")]):t._e(),t.projectedStudentGradStatus.advancePlacementParticipation?a("li",[a("strong",[t._v("AP:")]),t._v(" "+t._s(t.projectedStudentGradStatus.advancePlacementParticipation)+" ")]):t._e(),t.projectedStudentGradStatus.careerProgramParticipation?a("li",[a("strong",[t._v("Career Program:")]),t._v(" "+t._s(t.projectedStudentGradStatus.careerProgramParticipation)+" ")]):t._e(),t.projectedStudentGradStatus.recalculateFlag?a("li",[a("strong",[t._v("Recalculate Flag")]),t._v(t._s(t.projectedStudentGradStatus.recalculateFlag)+" ")]):t._e(),t.projectedStudentGradStatus.ibParticipationFlag?a("li",[a("strong",[t._v("IB:")]),t._v(" "+t._s(t.projectedStudentGradStatus.ibParticipationFlag)+" ")]):t._e()])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"col-12 header pl-0"},[a("h4",[t._v("Requirements Met")])]),a("ul",{staticClass:"requirements-met px-0"},t._l(t.projectedStudentGradStatus.studentGradData.requirementsMet,(function(e){return a("li",{key:e.rule},[a("i",{staticClass:"fas fa-check-circle text-success"}),t._v(t._s(e.description)+" (Rule "+t._s(e.rule)+") ")])})),0),a("div",{staticClass:"col-12 header pl-0"},[a("h4",[t._v("Requirements Not Met")])]),a("ul",{staticClass:"requirements-met px-0"},t._l(t.projectedStudentGradStatus.studentGradData.nonGradReasons,(function(e){return a("li",{key:e.rule},[a("i",{staticClass:"fas fa-check-circle text-success"}),t._v(" "+t._s(e.description)+" (Rule "+t._s(e.rule)+") ")])})),0)])]):t._e()])],1),a("button",{staticClass:"float-right w-50 btn-primary btn-sm",on:{click:function(e){return t.updateGraduationStatus(t.studentPen)}}},[a("i",{staticClass:"fas fa-sync"}),t._v(" Run Graduation"),a("br"),t._v("Algorithm ")])]),a("div",{staticClass:"graduation-status-content col-12 px-0 mx-0"},[a("div",[a("div",{staticClass:"col-12 header"},[a("h2",[t._v("Graduation status")]),"administrator"==this.role?a("b-button-group",{staticClass:"gradstatus-actions float-right"},[t.showEdit?t._e():a("div",[a("b-btn",{staticClass:"edit",attrs:{size:"sm",variant:"primary"},on:{click:t.editGradStatus}},[t._v(" Edit ")])],1),t.showEdit?a("div",[a("b-btn",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.saveEditedGradStatus(t.studentPen)}}},[t._v(" Save ")]),a("b-btn",{attrs:{size:"sm",variant:"outline-primary"},on:{click:t.cancelGradStatus}},[t._v(" Cancel ")])],1):t._e()]):t._e()],1),a("ul",[t.showEdit?t._e():a("li",[a("strong",[t._v("Program:")]),t._v(" "+t._s(t.studentGradStatus.program)+" ")]),t.showEdit?a("li",[a("strong",[t._v("Program:")]),a("b-input",{model:{value:t.editedGradStatus.program,callback:function(e){t.$set(t.editedGradStatus,"program",e)},expression:"editedGradStatus.program"}})],1):t._e(),t.showEdit?t._e():a("li",[a("strong",[t._v("Program completion date:")]),t._v(" "+t._s(t.studentGradStatus.programCompletionDate)+" ")]),t.showEdit?a("li",[a("strong",[t._v("Program completion date:")]),a("b-input",{attrs:{type:"date"},model:{value:t.editedGradStatus.programCompletionDate,callback:function(e){t.$set(t.editedGradStatus,"programCompletionDate",e)},expression:"editedGradStatus.programCompletionDate"}})],1):t._e(),a("li",[a("strong",[t._v("Program at graduation:")]),t._v(" "+t._s(t.studentGradStatus.gradProgramAtGraduation)+" ")]),a("li",[a("strong",[t._v("School of Record:")]),a("div",{staticClass:"p-2"},[a("span",{staticClass:"link",attrs:{href:"#",id:"popover-button-sync",variant:"primary"}},[t._v(t._s(t.studentGradStatus.studentGradData.school.schoolName)+" ("+t._s(t.studentGradStatus.studentGradData.school.minCode)+") ")])]),a("b-popover",{attrs:{show:t.show,"boundary-padding":50,target:"popover-button-sync",title:"School Information"},on:{"update:show":function(e){t.show=e}}},[a("p",[a("strong",[t._v("District:")]),t._v(" "+t._s(t.studentGradStatus.studentGradData.school.districtName))]),a("p",[a("strong",[t._v("Certificate eligibility:")]),t._v(" "+t._s(t.studentGradStatus.studentGradData.school.certificateEligibility))]),a("p",[a("strong",[t._v("Independent:")]),t._v(" "+t._s(t.studentGradStatus.studentGradData.school.independentDesignation)+" ")]),a("p",[a("strong",[t._v("Mailer type:")]),t._v(" "+t._s(t.studentGradStatus.studentGradData.school.mailerType))]),a("p",[a("strong",[t._v("Address:")]),t._v(" "+t._s(t.studentGradStatus.studentGradData.school.address1))]),a("p",[a("strong",[t._v("Postal:")]),t._v(" "+t._s(t.studentGradStatus.studentGradData.school.postal))]),a("b-button",{staticClass:"px-1",on:{click:t.popClose}},[t._v("Close")])],1)],1),t.studentGradStatus.studentGrade?a("li",[a("strong",[t._v("Grade at graduation:")]),t._v(" "+t._s(t.studentGradStatus.studentGrade)+" ")]):t._e(),t.studentGradStatus.graduationDate?a("li",[a("strong",[t._v("Graduation Date:")]),t._v(" "+t._s(t.studentGradStatus.graduationDate)+" ")]):t._e(),a("li",[a("strong",[t._v("Credits used for Graduation:")]),t._v(" "+t._s(t.studentGradStatus.creditsUsedForGrad)+" ")]),t.showEdit?t._e():a("li",[a("strong",[t._v("GPA:")]),t._v(" "+t._s(t.studentGradStatus.gpa)+" ")]),t.showEdit?a("li",[a("strong",[t._v("GPA:")]),a("b-input",{attrs:{size:"sm",max:"4",pattern:"^\\d*(\\.\\d{0,4})?$",type:"number"},model:{value:t.editedGradStatus.gpa,callback:function(e){t.$set(t.editedGradStatus,"gpa",e)},expression:"editedGradStatus.gpa"}})],1):t._e(),t.studentGradStatus.honoursFlag?a("li",[a("strong",[t._v("Honours:")]),t._v(" "+t._s(t.studentGradStatus.honoursFlag)+" ")]):t._e(),t.studentGradStatus.sccpGraduationDate?a("li",[a("strong",[t._v("School Completion Certificate Program (SCCP) Graduation Date:")]),t._v(t._s(t.studentGradStatus.sccpGraduationDate)+" ")]):t._e(),t.studentGradStatus.schoolAtGrad?a("li",[a("strong",[t._v("School at Graduation:")]),t._v(t._s(t.studentGradStatus.schoolAtGrad)+" ")]):t._e(),t.studentGradStatus.studentGradeAtGraduation?a("li",[a("strong",[t._v("Grade at Graduation:")]),t._v(t._s(t.studentGradStatus.studentGradeAtGraduation)+" ")]):t._e()]),a("div",{staticClass:"col-12 header"},[a("h2",[t._v("Certification/Dogwoods")])]),a("ul",[t.studentGradStatus.certificateType1?a("li",[a("strong",[t._v("Certificate #1:")]),t._v(" "+t._s(t.studentGradStatus.certificateType1)+" "),a("br"),t.studentGradStatus.certificateType1Date?a("span",[a("strong",[t._v("Date obtained:")]),t._v(" "+t._s(t.studentGradStatus.certificateType1Date)+" ")]):t._e()]):t._e()]),a("ul",[t.studentGradStatus.certificateType2?a("li",[a("strong",[t._v("Certificate #2:")]),t._v(" "+t._s(t.studentGradStatus.certificateType2)+" "),a("br"),t.studentGradStatus.certificateType2Date?a("span",[a("strong",[t._v("Date obtained:")]),t._v(" "+t._s(t.studentGradStatus.certificateType2Date)+" ")]):t._e()]):t._e()]),a("ul",[t.studentGradStatus.dualDogwoodEligibility?a("li",[a("strong",[t._v("Dual Dogwood")]),t._v(t._s(t.studentGradStatus.dualDogwoodEligibility)+" ")]):t._e(),t.studentGradStatus.transcriptDate?a("li",[a("strong",[t._v("Transcript Date:")]),t._v(" "+t._s(t.studentGradStatus.transcriptDate)+" ")]):t._e()]),a("div",{staticClass:"col-12 header"},[a("h2",[t._v("Special programs")])]),a("ul",[t.studentGradStatus.frenchProgramParticipation?a("li",[a("strong",[t._v("Program Cadre:")]),t._v(" "+t._s(t.studentGradStatus.frenchProgramParticipation)+" ")]):t._e(),t.studentGradStatus.advancePlacementParticipation?a("li",[a("strong",[t._v("AP:")]),t._v(" "+t._s(t.studentGradStatus.advancePlacementParticipation)+" ")]):t._e(),t.studentGradStatus.careerProgramParticipation?a("li",[a("strong",[t._v("Career Program:")]),t._v(" "+t._s(t.studentGradStatus.careerProgramParticipation)+" ")]):t._e(),t.studentGradStatus.recalculateFlag?a("li",[a("strong",[t._v("Recalculate Flag")]),t._v(t._s(t.studentGradStatus.recalculateFlag)+" ")]):t._e(),t.studentGradStatus.ibParticipationFlag?a("li",[a("strong",[t._v("IB:")]),t._v(" "+t._s(t.studentGradStatus.ibParticipationFlag)+" ")]):t._e()]),a("div",{staticClass:"col-12 header"},[a("h2",[t._v("Graduation reports")])]),a("div",{staticClass:"col-12"},[a("ul",[a("li",[a("a",{attrs:{href:"#"},on:{click:t.getStudentAchievementReportPDF}},[t._v("Achievement Report (PDF)")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:t.getStudentTranscriptPDF}},[t._v("Transcript (PDF)")])])])])])])])])],1)],1)],1),a("b-card",{staticClass:"col-12 px-0 mx-0",attrs:{"no-body":""}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],staticClass:"text-left",attrs:{block:"",variant:"info"}},[a("i",{staticClass:"fas fa-times-circle text-danger"}),t._v(" Requirements not met ("+t._s(t.studentGradStatus.studentGradData.nonGradReasons.length)+") ")]),a("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-card-text",[t.studentGradStatus.studentGradData.nonGradReasons.length?t._e():a("ul",[a("li",[t._v("All graduation requirements have been met")])]),t.studentGradStatus.studentGradData.nonGradReasons.length?a("ul",{staticClass:"non-grad-reasons px-0"},t._l(t.studentGradStatus.studentGradData.nonGradReasons,(function(e){return a("li",{key:e.rule},[a("i",{staticClass:"fas fa-check-circle text-danger"}),t._v(" "+t._s(e.description)+" (Rule "+t._s(e.rule)+") ")])})),0):t._e()])],1)],1)],1),a("b-card",{staticClass:"col-12 px-0 mx-0",attrs:{"no-body":""}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],staticClass:"text-left",attrs:{block:"",variant:"info"}},[a("i",{staticClass:"fas fa-check-circle text-success"}),t._v(" Requirements met ("+t._s(t.studentGradStatus.studentGradData.requirementsMet.length)+" )")]),a("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-card-text",[a("ul",{staticClass:"requirements-met px-0"},t._l(t.studentGradStatus.studentGradData.requirementsMet,(function(e){return a("li",{key:e.rule},[a("i",{staticClass:"fas fa-check-circle text-success"}),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(a){return t.getCourseCompletedProgramCode(e.rule,t.studentGradStatus.studentGradData.studentCourses.studentCourseList)}}},[t._v(t._s(e.description)+" (Rule "+t._s(e.rule)+")")])])})),0)])],1)],1)],1)],1):t._e()],1)},Ht=[];const $t=c.a.create({baseURL:"/api/graduation-common"});var Bt={getAchievementReport(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e,responseType:"arraybuffer"};return $t.get("/api/v1/common/studentreport/?pen="+t+"&reportType=ACHV",{headers:a,responseType:"arraybuffer"})},getStudentTranscript(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e,responseType:"arraybuffer"};return $t.get("/api/v1/common/studentreport/?pen="+t+"&reportType=TRAN",{headers:a,responseType:"arraybuffer"})}};const qt=c.a.create({baseURL:"/api-graduation"});var Vt={graduateStudent(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return qt.get("/api/v1/graduate/pen/"+t,{headers:a})}},zt={name:"StudentGraduationStatus",computed:{...Object(r["b"])({studentGradStatus:"getStudentGradStatus",hasGradStatus:"studentHasGradStatus",studentPen:"getStudentPen",studentFullName:"getStudentFullName",token:"getToken",role:"getRoles"})},data(){return{dismissSecs:3,dismissCountDown:0,showModal:!1,showTop:!1,showEdit:!1,show:!1,projectedStudentGradStatus:[],updateStatus:[],programDropdownList:[],editedGradStatus:{createdBy:"",createdTimestamp:"",updatedBy:"",updatedTimestamp:"",pen:"",program:"TEST",programCompletionDate:null,gpa:"",honoursStanding:null,recalculateGradStatus:null,schoolOfRecord:"",studentGrade:""}}},created(){this.programDropdownList=this.$store.dispatch("getGraduationPrograms")},methods:{makeToast(t=null,e){this.$bvToast.toast(e,{title:"Variant "+(t||"default"),variant:t,solid:!0,autoHideDelay:5e3})},editGradStatus(){this.showEdit=!0,this.editedGradStatus.pen=this.studentGradStatus.pen,this.editedGradStatus.program=this.studentGradStatus.program,this.editedGradStatus.gpa=this.studentGradStatus.gpa,this.editedGradStatus.programCompletionDate=this.studentGradStatus.programCompletionDate},cancelGradStatus(){this.showEdit=!1},countDownChanged(t){this.dismissCountDown=t},saveEditedGradStatus(t){lt.editGraduationStatus(t,this.token,this.editedGradStatus).then(t=>{this.updateStatus=t.data,this.studentGradStatus.program=this.editedGradStatus.program,this.studentGradStatus.gpa=this.editedGradStatus.gpa,this.showTop=!this.showTop,this.showEdit=!1,this.makeToast("success","Grad Status Saved")}).catch(t=>{this.makeToast("danger","There was an error: "+t.response.data.messages[0].message)})},popClose(){this.show=!1},projectGraduationStatus(t){lt.getGraduationStatus(t,this.token).then(t=>{this.projectedStudentGradStatus=t.data,this.projectedStudentGradStatus.studentGradData=JSON.parse(this.projectedStudentGradStatus.studentGradData),this.$bvModal.show("modal-1"),this.showModal=!0}).catch(t=>{console.log("There was an error:"+t.response)})},updateGraduationStatus:function(t){Vt.graduateStudent(t,this.token).then(t=>{this.$store.dispatch("setStudentGradStatus",t.data)}).catch(t=>{console.log("There was an error:"+t.response)})},getStudentAchievementReportPDF:function(){Bt.getAchievementReport(this.studentGradStatus.pen,this.token).then(t=>{const e=new Blob([t.data],{type:"application/pdf"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e);else{const t=URL.createObjectURL(e);window.open(t)}}).catch(t=>{})},getStudentTranscriptPDF:function(){Bt.getStudentTranscript(this.studentGradStatus.pen,this.token).then(t=>{const e=new Blob([t.data],{type:"application/pdf"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e);else{const t=URL.createObjectURL(e);window.open(t)}}).catch(t=>{})}}},Kt=zt,Yt=(a("4161"),Object(_["a"])(Kt,Ft,Ht,!1,null,"3ff799b4",null)),Wt=Yt.exports,Jt={name:"studentProfile",components:{SiteMessage:vt,StudentCourses:Ct,StudentInfo:wt,StudentExams:Nt,StudentAssessments:Ut,StudentGraduationStatus:Wt},props:{pen:{type:String}},data(){return{show:!1,opened:[],displayMessage:null,smallScreen:!1,window:{width:0,height:0},courseViewMode:"showAllCourses"}},computed:{...Object(r["b"])({profile:"getStudentProfile",courses:"getStudentCourses",studentFullName:"getStudentFullName",exams:"getStudentExams",assessments:"getStudentAssessments",studentHasCourses:"studentHasCourses",studentHasAssessments:"studentHasAssessments",studentHasExams:"studentHasExams",gradInfo:"getStudentGraduationCreationAndUpdate",hasGradStatus:"studentHasGradStatus",studentGradStatus:"getStudentGradStatus",token:"getToken"})},created(){const t=this.$route.params.pen;this.loadStudent(t),this.window.width=window.innerWidth,this.window.height=window.innerHeight,this.window.width<960&&(this.smallScreen=!0),window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{closeRecord:function(){this.$store.commit("unsetStudent"),this.$router.push({name:"student-search"})},handleResize(){this.window.width=window.innerWidth,this.window.height=window.innerHeight,this.window.width<992?this.smallScreen=!0:this.smallScreen=!1},loadStudent(t){B.getStudentByPen(t,this.token).then(t=>{this.$store.dispatch("setStudentProfile",t.data)}).catch(t=>{t.response.status&&this.$bvToast.toast("ERROR "+t.response.statusText,{title:"ERROR"+t.response.status,variant:"danger",noAutoHide:!0})}),it.getStudentAssessment(t,this.token).then(t=>{this.$store.dispatch("setStudentAssessments",t.data)}).catch(t=>{t.response.status&&this.$bvToast.toast("ERROR "+t.response.statusText,{title:"ERROR"+t.response.status,variant:"danger",noAutoHide:!0})}),ot.getStudentExams(t,this.token).then(t=>{this.$store.dispatch("setStudentExams",t.data)}).catch(t=>{t.response.status&&this.$bvToast.toast("ERROR "+t.response.statusText,{title:"ERROR"+t.response.status,variant:"danger",noAutoHide:!0})}),lt.getGraduationStatus(t,this.token).then(t=>{this.$store.dispatch("setStudentGradStatus",t.data)}).catch(t=>{t.response.status&&this.$bvToast.toast("ERROR "+t.response.statusText,{title:"ERROR"+t.response.status,variant:"danger",noAutoHide:!0})}),st.getStudentCourseAchievements(t,this.token).then(t=>{this.$store.dispatch("setStudentCourses",t.data)}).catch(t=>{t.response.status&&this.$bvToast.toast("ERROR "+t.response.statusText,{title:"ERROR"+t.response.status,variant:"danger",noAutoHide:!0})})}}},Xt=Jt,Qt=(a("53f9"),Object(_["a"])(Xt,tt,et,!1,null,"1ef3c964",null)),Zt=Qt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Courses")]),a("div",[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"Course Search",active:""}},[a("b-card-text",[a("div",{staticClass:"row col-12"},[a("b-input",{staticClass:"col-10 my-2",attrs:{placeholder:"Course Code: BI"},model:{value:t.courseCode,callback:function(e){t.courseCode=e},expression:"courseCode"}}),a("b-button",{staticClass:"col-2 my-2",on:{click:t.getAllCourses}},[t._v("Search")])],1),a("DisplayTable",{attrs:{title:"Courses",items:t.courses,fields:t.courseFields,id:"courseCode",role:t.role}})],1)],1),a("b-tab",{attrs:{title:"Course Restrictons"}},[a("b-card-text",[a("DisplayTable",{attrs:{title:"Course Restriction",items:t.courseRestrictions,fields:t.courseRestrictionFields,id:"courseRestrictionId",create:"createCourseRestriction",delete:"deleteCourseRestriction",update:"updateCourseRestriction"}})],1)],1)],1)],1)],1)])},ee=[];const ae=c.a.create({baseURL:"/api/course"});var se={getCourses(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return ae.get("/api/v1/course/"+t,{headers:a})},getAllCourses(t){const e={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return ae.get("/api/v1/course/",{headers:e})},getCourseRestrictions(t){const e={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return ae.get("/api/v1/course/courserestrictionsearch",{headers:e})},getCourseRestriction(t,e,a){const s={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+a};return ae.get("/api/v1/course/courserestrictionsearch?mainCourseLevel="+t+"&mainCourseCode="+e,{headers:s})}},re={name:"courses",components:{DisplayTable:W},data(){return{courses:{},courseRestrictions:[],courseFields:[{key:"more",label:"More"},{key:"courseCode",label:"Course Code",sortable:!0,sortDirection:"desc"},{key:"courseName",label:"Course Name",sortable:!0,class:"text-center"},{key:"startDate",label:"Start Date",sortable:!0,sortDirection:"desc"},{key:"endDate",label:"End Date",sortable:!0,class:"text-center"},{key:"workExpFlag",label:"Start Date",sortable:!0,sortDirection:"desc"},{key:"genericCourseType",label:"End Date",sortable:!0,class:"text-center"}],courseRestrictionFields:[{key:"more",label:"More"},{key:"mainCourse",label:"Course",sortable:!0,class:"text-left",editable:!0},{key:"restrictedCourse",label:"Restricted Course",sortable:!0,class:"text-left",sortDirection:"desc",editable:!0},{key:"restrictedCourseLevel",label:"Course Level",sortable:!0,class:"text-left",editable:!0},{key:"restrictionStartDate",label:"Start Date",sortable:!0,class:"text-left",sortDirection:"desc",editable:!0},{key:"restrictionEndDate",label:"End Date",sortable:!0,class:"text-left",editable:!0}],courseCode:"",show:!1,displayMessage:null}},computed:{...Object(r["b"])({token:"getToken",role:"getRoles"})},created(){this.getAllCourses(),this.getAllCourseRestrictions()},methods:{searchCourseByCourseCode(){se.getCourses(this.courseCode,this.token).then(t=>{this.courses=t.data}).catch(t=>{console.log("There was an error:"+t.response)})},getAllCourses(){se.getAllCourses(this.token).then(t=>{this.courses=t.data}).catch(t=>{this.$bvToast.toast("ERROR "+t.response.statusText,{title:"ERROR"+t.response.status,variant:"danger",noAutoHide:!0})})},getAllCourseRestrictions(){se.getCourseRestrictions(this.token).then(t=>{this.courseRestrictions=t.data}).catch(t=>{this.$bvToast.toast("ERROR "+t.response.statusText,{title:"ERROR"+t.response.status,variant:"danger",noAutoHide:!0})})},getAllCourseRestriction(t,e){se.getCourseRestriction(t,e,this.token).then(t=>{this.courseRestrictions=t.data}).catch(t=>{this.$bvToast.toast("ERROR "+t.response.statusText,{title:"ERROR"+t.response.status,variant:"danger",noAutoHide:!0})})}}},oe=re,ne=(a("16e6"),Object(_["a"])(oe,te,ee,!1,null,"ad815fc6",null)),ie=ne.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("School Search")]),a("b-input",{staticClass:"float-left col-3 mx-1 my-3",attrs:{placeholder:"City"},model:{value:t.search.city,callback:function(e){t.$set(t.search,"city",e)},expression:"search.city"}}),a("b-input",{staticClass:"float-left col-3 mx-1 my-3",attrs:{placeholder:"School Name"},model:{value:t.search.schoolName,callback:function(e){t.$set(t.search,"schoolName",e)},expression:"search.schoolName"}}),a("b-input",{staticClass:"float-left col-3 mx-1 my-3",attrs:{placeholder:"District Name"},model:{value:t.search.districtName,callback:function(e){t.$set(t.search,"districtName",e)},expression:"search.districtName"}}),a("b-button",{staticClass:"float-left col-auto mx-1 my-3",attrs:{type:"submit"},on:{click:t.searchSchools}},[t._v(" Search ")]),t.schools?a("table",{staticClass:"table table-striped table-bordered"},[t._m(0),a("tbody",t._l(t.schools,(function(e){return a("tr",{key:e.minCode},[a("td",[t._v(t._s(e.minCode))]),a("td",[t._v(t._s(e.schoolName))]),a("td",[t._v(t._s(e.districtName))])])})),0)]):t._e()],1)},le=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Mincode")]),a("th",[t._v("School Name")]),a("th",[t._v("District Name")])])])}];const ce=c.a.create({baseURL:"/api/school"});var ue={getSchoolInfo(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return ce.get("/api/v1/school/"+t,{headers:a})},getAllSchools(t){const e={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return ce.get("/api/v1/school/",{headers:e})},searchSchools(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};let s="";for(var r in t)t[r]&&(s+=r+"="+t[r]+"&");return s=s.slice(0,-1),ce.get("/api/v1/school/search?"+s,{headers:a})}},pe={name:"schools",components:{},data(){return{schools:{},search:{city:"",schoolName:"",districtName:""},show:!1,displayMessage:null}},computed:{...Object(r["b"])({token:"getToken"})},created(){this.getAllSchools()},methods:{getAllSchools(){ue.getAllSchools(this.token).then(t=>{this.schools=t.data}).catch(t=>{console.log("There was an error adding School information to Grad Status:"+t.response)})},searchSchools(){this.schools={},ue.searchSchools(this.search,localStorage.getItem("jwt")).then(t=>{this.schools=t.data}).catch(t=>{console.log("There was an error adding School information to Grad Status:"+t.response)})}}},me=pe,he=(a("5553"),Object(_["a"])(me,de,le,!1,null,"6c32714a",null)),ve=he.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Post Secondary Institutions")]),t._l(t.psi,(function(e){return a("b-card",{key:e.message,staticClass:"my-2",attrs:{"sub-title":""}},[a("b-card-text",[a("div",{staticClass:"row col-12"},[a("div",{staticClass:"col-12"},[a("h2",[t._v(t._s(e.psiName))])]),a("div",{staticClass:"address col-3"},[a("strong",[t._v("Address:")]),a("br"),a("div",{staticClass:"pl-3"},[t._v(" "+t._s(e.address1)),a("br"),t._v(" "+t._s(e.postal)),a("br"),t._v(" "+t._s(e.city)+","+t._s(e.provinceCode)),a("br"),t._v(" Country Code: "+t._s(e.countryCode)+" ")]),a("div",[a("strong",[t._v("Contact:")]),a("br"),a("strong",[t._v("Fax:")]),t._v(" "+t._s(e.fax)),a("br"),a("strong",[t._v("Phone:")]),t._v(" "+t._s(e.phone1)),a("br")])]),a("div",[a("strong",[t._v("School Information:")]),a("div",{staticClass:"pl-3"},[t._v(" CSL Code: "+t._s(e.cslCode)),a("br"),t._v(" Attention Name: "+t._s(e.attentionName)),a("br"),t._v(" Open: "+t._s(e.openFlag)),a("br"),t._v(" Transmission Mode: "+t._s(e.transmissionMode)),a("br"),t._v(" PSI Grouping: "+t._s(e.psiGrouping)),a("br"),t._v(" Code: "+t._s(e.psiCode)),a("br")," "!=e.psiUrl?a("div",[a("b-link",{staticClass:"btn btn-primary",attrs:{href:e.psiUrl}},[t._v("Website")])],1):t._e()])])])])],1)}))],2)},_e=[];const be=c.a.create({baseURL:"/api/psi"});var Se={getPSI(t){const e={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return be.get("/api/v1/psi",{headers:e})}},fe={name:"psi",components:{},data(){return{psi:{},psiFields:["psiName","address1","city","provinceCode","countryCode","attentionName","transmissionMode"]}},computed:{...Object(r["b"])({token:"getToken"})},created(){Se.getPSI(this.token).then(t=>{this.psi=t.data}).catch(t=>{console.log("There was an error adding psi information:"+t.response)})},methods:{}},Ce=fe,ye=(a("5deb"),Object(_["a"])(Ce,ge,_e,!1,null,"56df04f6",null)),Pe=ye.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"test"},[a("DisplayTable",{attrs:{items:t.courses,fields:t.fields}}),a("DisplayTable",{attrs:{items:t.items,fields:t.fields2}})],1)},ke=[],Ge={name:"test",data(){return{items:[{isActive:!0,age:40,name:{first:"Dickerson",last:"Macdonald"}},{isActive:!0,age:40,name:{first:"Dickerson",last:"Macdonald"}},{isActive:!1,age:21,name:{first:"Larsen",last:"Shaw"}},{isActive:!1,age:9,name:{first:"Mini",last:"Navarro"},_rowVariant:"success"},{isActive:!1,age:89,name:{first:"Geneva",last:"Wilson"}},{isActive:!0,age:38,name:{first:"Jami",last:"Carney"}},{isActive:!1,age:27,name:{first:"Essie",last:"Dunlap"}},{isActive:!0,age:40,name:{first:"Thor",last:"Macdonald"}},{isActive:!0,age:87,name:{first:"Larsen",last:"Shaw"},_cellVariants:{age:"danger",isActive:"warning"}},{isActive:!1,age:26,name:{first:"Mitzi",last:"Navarro"}},{isActive:!1,age:22,name:{first:"Genevieve",last:"Wilson"}},{isActive:!0,age:38,name:{first:"John",last:"Carney"}},{isActive:!1,age:29,name:{first:"Dick",last:"Dunlap"}}],fields2:[{key:"name",label:"Person full name",sortable:!0,sortDirection:"desc"},{key:"age",label:"Person age",sortable:!0,class:"text-center"},{key:"isActive",label:"Is Active",formatter:t=>t?"Yes":"No",sortable:!0,sortByFormatted:!0,filterByFormatted:!0},{key:"actions",label:"Actions"}],fields:[{key:"courseCode",label:"Course Code",sortable:!0,sortDirection:"desc"},{key:"codeLevel",label:"Code Level",sortable:!0,class:"text-center"},{key:"sessionDate",label:"Session Date",sortable:!0,sortDirection:"desc"},{key:"courseName",label:"Course Name",sortable:!0,class:"text-center"},{key:"courseEquivChal",label:"Course Equivalent Challenge",sortable:!0,sortDirection:"desc"},{key:"credits",label:"Credits",sortable:!0,class:"text-center"},{key:"interimLetterGrade",label:"Intermediate Letter Grade",sortable:!0,sortDirection:"desc"},{key:"completedCoursePercentage",label:"Completed Course Percentage"},{key:"isActive",label:"Is Active",formatter:t=>t?"Yes":"No",sortable:!0,sortByFormatted:!0,filterByFormatted:!0},{key:"actions",label:"Actions"}]}},created(){},methods:{},computed:{...Object(r["b"])({courses:"getStudentCourses",gradStatusCourses:"gradStatusCourses",studentGradStatus:"getStudentGradStatus",hasGradStatus:"studentHasGradStatus",gradStatusPendingUpdates:"getHasGradStatusPendingUpdates"})},components:{DisplayTable:W}},we=Ge,Re=(a("4a21"),Object(_["a"])(we,Ae,ke,!1,null,"5a916a02",null)),Te=Re.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Program Management")]),a("p",[t._v(" Manage graduation settings (Admin Access Required)")]),a("div",[a("b-card",{attrs:{title:"Card Title","no-body":""}},[a("b-card-header",{attrs:{"header-tag":"nav"}},[a("b-nav",{attrs:{"card-header":"",tabs:""}},[a("b-nav-item",{attrs:{to:"/admin-graduation-programs/programs",active:1===t.tab},on:{click:function(e){t.tab=1}}},[t._v(" Programs")]),a("b-nav-item",{attrs:{to:"/admin-graduation-programs/special-programs",active:2===t.tab},on:{click:function(e){t.tab=2}}},[t._v(" Special Programs")]),a("b-nav-item",{attrs:{active:3===t.tab},on:{click:function(e){t.tab=3}}},[t._v("Letter Grades")]),a("b-nav-item",{attrs:{active:4===t.tab},on:{click:function(e){t.tab=4}}},[t._v("Special Cases")])],1)],1),a("b-card-body",[a("b-card-text",[a("router-view",{key:t.$route.fullPath})],1)],1)],1)],1)])},xe=[],De={name:"graduationPrograms",components:{},data(){return{tab:1,show:!1,opened:[],displayMessage:null}},computed:{},created(){},methods:{}},Ne=De,Oe=(a("8e62"),Object(_["a"])(Ne,Ee,xe,!1,null,"59d48066",null)),Ie=Oe.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t.graduationProgramRules.length?t._e():a("b-spinner",{attrs:{label:"Loading"}},[t._v("Loading")]),t.graduationProgramRules.length?t._e():a("div",[a("h2",[t._v("Loading")])]),a("v-table",{staticClass:"table table-sm table-hover table-striped align-middle",attrs:{data:t.graduationProgramRules},scopedSlots:t._u([{key:"body",fn:function(e){var s=e.displayData;return a("tbody",{},[t._l(s,(function(e){return[a("tr",{key:e.ruleCode,class:{opened:t.opened.includes(e.ruleCode)},on:{click:function(a){return t.toggle(e.ruleCode+e.requirementName)}}},[a("td",[a("router-link",{attrs:{to:"/admin-graduation-programs/program/"+e.programCode+"/"+e.ruleCode}},[t._v(" "+t._s(e.ruleCode))])],1),a("td",[t._v(t._s(e.requirementName))]),a("td",[t._v(t._s(e.requiredCredits))]),a("td",[t._v(t._s(e.notMetDesc))]),a("td",[t._v(t._s(e.requirementType))]),a("td",[t._v(t._s(e.requiredLevel))]),a("td",[t._v(t._s(e.languageOfInstruction))]),a("td",[t._v(t._s(e.requirementDesc))])])]}))],2)}}])},[a("thead",{attrs:{slot:"head"},slot:"head"},[a("v-th",{attrs:{sortKey:"ruleCode"}},[t._v("Rule #")]),a("v-th",{attrs:{sortKey:"requirementName"}},[t._v("Requirement Name")]),a("v-th",{attrs:{sortKey:"requiredCredits"}},[t._v("Required Credits")]),a("v-th",{attrs:{sortKey:"notMetDesc"}},[t._v("Not Met Description")]),a("v-th",{attrs:{sortKey:"requirementType"}},[t._v("Requirement Type")]),a("v-th",{attrs:{sortKey:"requiredLevel"}},[t._v("Required Level")]),a("v-th",{attrs:{sortKey:"languageOfInstruction"}},[t._v("Language of Instruction")]),a("v-th",{attrs:{sortKey:"requirementDesc"}},[t._v("Description")])],1)])],1)},Le=[];const je=c.a.create({baseURL:"/api/program-management"});var Ue={getLetterGrades(t){const e={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return je.get("/api/v1/programmanagement/lettergrade",{headers:e})},getSpecialCases(t){const e={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return je.get("/api/v1/programmanagement/specialcase",{headers:e})},getGraduationPrograms(t){const e={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return je.get("/api/v1/programmanagement/programs",{headers:e})},getProgramRule(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return je.get("/api/v1/programmanagement/programrules?programCode="+t,{headers:a})},getGraduationProgramSets(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return je.get("/api/v1/programmanagement/specialprograms/"+t,{headers:a})},getSpecialProgram(t){const e={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t};return je.get("/api/v1/programmanagement/specialprograms",{headers:e})},getSpecialProgramRule(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return je.get("/api/v1/programmanagement/specialprogramrules?specialProgramID="+t,{headers:a})},createProgram(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return je.post("/api/v1/programmanagement/programs",t,{headers:a})},deleteProgram(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return je.delete("/api/v1/programmanagement/programs/"+t,{headers:a})},updateProgram(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return je.put("/api/v1/programmanagement/programs",t,{headers:a})},createSpecialProgram(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return je.post("/api/v1/programmanagement/specialprograms",t,{headers:a})},deleteSpecialProgram(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return je.delete("/api/v1/programmanagement/specialprograms/"+t,{headers:a})},updateSpecialProgram(t,e){const a={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+e};return je.put("/api/v1/programmanagement/specialprograms",t,{headers:a})}},Fe={name:"GraduationProgramRules",props:{selectedProgramCode:String},computed:{...Object(r["b"])({token:"getToken"})},data:function(){return{opened:[],graduationProgramRules:[]}},created(){Ue.getProgramRule(this.$route.params.selectedProgramCode,this.token).then(t=>{this.graduationProgramRules=t.data}).catch(t=>{console.log("There was an error:"+t.response)})},methods:{}},He=Fe,$e=(a("5586"),Object(_["a"])(He,Me,Le,!1,null,null,null)),Be=$e.exports,qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card mb-2"},[a("div",{staticClass:"card-body"},[t.graduationProgramSets.length?t._e():a("b-spinner",{attrs:{label:"Loading"}},[t._v("Loading")]),t.graduationProgramSets.length?t._e():a("div",[a("h2",[t._v("No data please select another Program Code")])]),a("v-table",{staticClass:"table table-sm table-hover table-striped align-middle",attrs:{data:t.graduationProgramSets},scopedSlots:t._u([{key:"body",fn:function(e){var s=e.displayData;return a("tbody",{},[t._l(s,(function(e){return[a("tr",{key:e.programSet,class:{"table-primary":t.selectedId==e.id},on:{click:function(a){return t.onClickButton(e.id)}}},[a("td",[t._v(t._s(e.specialProgramCode))]),a("td",[t._v(t._s(e.specialProgramName))]),a("td",[t._v(t._s(e.id))])])]}))],2)}}])},[a("thead",{attrs:{slot:"head"},slot:"head"},[a("v-th",{attrs:{sortKey:"programSet"}},[t._v("Program Set")]),a("v-th",{attrs:{sortKey:"programSetName"}},[t._v("Program Set Name")]),a("v-th",{attrs:{sortKey:"programSetName"}},[t._v("Id")])],1)])],1)]),t.selectedProgramSet?a("GraduationProgramRules",{key:t.selectedProgramSet,attrs:{selectedProgramCode:t.selectedProgramCode,selectedProgramSet:t.selectedProgramSet}}):t._e()],1)},Ve=[],ze={name:"GraduationProgramSets",components:{GraduationProgramRules:Be},props:{},computed:{},data:function(){return{opened:[],graduationProgramSets:[],parentSelectedProgramCode:"",selectedProgramCode:"",selectedProgramSet:"",selectedId:""}},created(){this.parentSelectedProgramCode=this.$parent.selectedProgramCode,Ue.getGraduationProgramSets(this.$parent.selectedProgramCode,localStorage.getItem("jwt")).then(t=>{this.graduationProgramSets=t.data})},methods:{onClickButton(t){this.$emit("clicked",t)},selectProgramRules(t,e){this.selectedProgramCode=t,this.selectedProgramSet=e},toggle(t){const e=this.opened.indexOf(t);e>-1?this.opened.splice(e,1):this.opened.push(t)},showMsgBoxOne(t){this.$bvModal.msgBoxOk(t)}}},Ke=ze,Ye=(a("5207"),Object(_["a"])(Ke,qe,Ve,!1,null,null,null)),We=Ye.exports,Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.graduationPrograms.length?t._e():a("b-spinner",{attrs:{label:"Loading"}},[t._v("Loading")]),t.selectedProgramCode?t._e():a("div",[a("DisplayTable",{attrs:{items:t.graduationPrograms,title:"Program",fields:t.graduationProgramsFields,id:"programCode",role:t.role,create:"createProgram",delete:"deleteProgram",update:"updateProgram",slots:t.templates},scopedSlots:t._u([{key:"cell(programCode)",fn:function(e){return[a("router-link",{attrs:{to:"/admin-graduation-programs/program/"+e.item.programCode}},[t._v(t._s(e.item.programCode))])]}}],null,!1,262892628)})],1),t.selectedProgramCode?a("div",{staticClass:"card-body"},[a("b-button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.resetProgramCode()}}},[t._v("Select another program")]),t.selectedProgramCode?a("GraduationProgramRules",{key:t.selectedProgramCode,attrs:{prop:t.selectedProgramCode}}):t._e()],1):t._e(),a("router-view",{key:t.$route.fullPath})],1)},Xe=[],Qe={name:"GraduationPrograms",components:{GraduationProgramRules:Be,DisplayTable:W},props:{},computed:{...Object(r["b"])({token:"getToken",role:"getRoles"})},data:function(){return{show:!1,isHidden:!1,opened:[],graduationPrograms:[],templates:[{name:"programCode",field:"programCode"}],graduationProgramsFields:[{key:"programCode",label:"Program Code",sortable:!0,sortDirection:"desc",editable:!0,class:"w-25"},{key:"programName",label:"Program Name",sortable:!0,editable:!0,class:"w-75"}],selectedProgramCode:"",selectedProgramId:""}},created(){Ue.getGraduationPrograms(this.token).then(t=>{this.graduationPrograms=t.data}).catch(()=>{})},methods:{onClickChild(t){this.selectedProgramId=t},selectGradRule(t){this.selectedProgramCode=t},resetProgramCode(){this.selectedProgramCode=""},getCourseName:function(t){let e="";return this.courses.filter((function(a){if(a.id===t)return e=a.name,e})),e}}},Ze=Qe,ta=(a("31d9"),Object(_["a"])(Ze,Je,Xe,!1,null,null,null)),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.graduationSpecialPrograms.length?t._e():a("b-spinner",{attrs:{label:"Loading"}},[t._v("Loading")]),a("DisplayTable",{attrs:{items:t.graduationSpecialPrograms,title:"Special Programs",fields:t.graduationSpecialProgramsFields,id:"id",role:t.role,create:"createSpecialProgram",delete:"deleteSpecialProgram",update:"updateSpecialProgram"}})],1)},sa=[],ra={name:"GraduationSpecialProgram",props:{},computed:{...Object(r["b"])({token:"getToken",role:"getRoles"})},components:{DisplayTable:W},data:function(){return{opened:[],graduationSpecialPrograms:[],selectedProgramId:"",selectedId:"",graduationSpecialProgramsFields:[{key:"programCode",label:"Program Code",sortable:!0,sortDirection:"desc",editable:!0,class:"w-1"},{key:"specialProgramCode",label:"Special Program Code",sortable:!0,sortDirection:"desc",editable:!0,class:"w-1"},{key:"specialProgramName",label:"Special Program Name",sortable:!0,editable:!0}]}},created(){Ue.getSpecialProgram(this.token).then(t=>{this.graduationSpecialPrograms=t.data}).catch(()=>{})},methods:{onClickButton(t){this.$emit("clicked",t)},selectSpecialGradRule(t){this.selectedProgramId=t},resetProgramId(){this.selectedProgramId=""}}},oa=ra,na=(a("f98f"),Object(_["a"])(oa,aa,sa,!1,null,null,null)),ia=na.exports,da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t.graduationSpecialProgramRules.length?t._e():a("b-spinner",{attrs:{label:"Loading"}},[t._v("Loading")]),t.graduationSpecialProgramRules.length?t._e():a("div",[a("h2",[t._v("Loading")])]),a("v-table",{staticClass:"table table-sm table-hover table-striped align-middle",attrs:{data:t.graduationSpecialProgramRules},scopedSlots:t._u([{key:"body",fn:function(e){var s=e.displayData;return a("tbody",{},[t._l(s,(function(e){return[a("tr",{key:e.ruleCode,class:{opened:t.opened.includes(e.ruleCode)},on:{click:function(a){return t.toggle(e.ruleCode+e.requirementName)}}},[a("td",[t._v(t._s(e.ruleCode))]),a("td",[t._v(t._s(e.requirementName))]),a("td",[t._v(t._s(e.requiredCredits))]),a("td",[t._v(t._s(e.notMetDesc))]),a("td",[t._v(t._s(e.requirementType))]),a("td",[t._v(t._s(e.requiredLevel))]),a("td",[t._v(t._s(e.languageOfInstruction))]),a("td",[t._v(t._s(e.requirementDesc))])])]}))],2)}}])},[a("thead",{attrs:{slot:"head"},slot:"head"},[a("v-th",{attrs:{sortKey:"ruleCode"}},[t._v("Rule #")]),a("v-th",{attrs:{sortKey:"requirementName"}},[t._v("Requirement Name")]),a("v-th",{attrs:{sortKey:"requiredCredits"}},[t._v("Required Credits")]),a("v-th",{attrs:{sortKey:"notMetDesc"}},[t._v("Not Met Description")]),a("v-th",{attrs:{sortKey:"requirementType"}},[t._v("Requirement Type")]),a("v-th",{attrs:{sortKey:"requiredLevel"}},[t._v("Required Level")]),a("v-th",{attrs:{sortKey:"languageOfInstruction"}},[t._v("Language of Instruction")]),a("v-th",{attrs:{sortKey:"requirementDesc"}},[t._v("Description")])],1)])],1)},la=[],ca={name:"GraduationSpecialProgramRules",props:{},computed:{...Object(r["b"])({token:"getToken"})},data:function(){return{opened:[],graduationSpecialProgramRules:[],parentSelectedProgramCode:""}},created(){this.parentSelectedProgramCode=this.$parent.selectedProgramId,Ue.getSpecialProgramRule(this.parentSelectedProgramCode,this.token).then(t=>{this.graduationSpecialProgramRules=t.data}).catch(t=>{console.log("There was an error:"+t.response)})},methods:{}},ua=ca,pa=(a("46d5"),Object(_["a"])(ua,da,la,!1,null,null,null)),ma=pa.exports;s["default"].use(w["a"]);const ha=[{path:"/login",name:"login",component:N,meta:{guest:!0}},{path:"/logout",name:"logout",component:U,meta:{guest:!0}},{path:"/",name:"student-search",component:Z,meta:{requiresAuth:!0}},{path:"/student-profile/:pen",name:"student-profile",component:Zt,meta:{requiresAuth:!0}},{path:"/admin-graduation-programs",name:"admin-graduation-programs",component:Ie,children:[{path:"",component:ea},{path:"programs/",component:ea},{path:"program/:selectedProgramCode",component:Be},{path:"program/:selectedProgramCode/:rule",component:We},{path:"special-programs/",component:ia},{path:"special-programs/:selectedSpecialProgramCode",component:ma}],meta:{requiresAuth:!0},props:!0},{path:"/courses",name:"courses",component:ie,meta:{requiresAuth:!0}},{path:"/schools",name:"schools",component:ve,meta:{requiresAuth:!0}},{path:"/psi",name:"psi",component:Pe,meta:{requiresAuth:!0}},{path:"/test",name:"test",component:Te,meta:{requiresAuth:!0}}],va=new w["a"]({mode:"history",base:"/",routes:ha});va.beforeEach((t,e,a)=>{t.matched.some(t=>t.meta.requiresAuth)&&null==localStorage.getItem("jwt")?a({path:"/logout",params:{nextUrl:t.fullPath}}):a()});var ga=va,_a=a("5f5b"),ba=a("51c2"),Sa=a("8b2a"),fa=a("4380");s["default"].use(r["a"]);var Ca=new r["a"].Store({init:{},state:{tokenTimeout:"",token:"",refreshToken:"",roles:"unauthenticated",student:{profile:{},courses:"not loaded",assessments:"not loaded",exams:"not loaded",gradStatus:"not loaded",hasExams:!1,hasAssessments:!1,hasCourses:!1,hasGradStatus:!1,hasgradStatusPendingUpdates:!1}},mutations:{setHasGradStatusPendingUpdates(t,e){t.student.hasGradStatusPendingUpdates=e},setToken(t,e){localStorage.setItem("jwt",e),t.token=e},setRefreshToken(t,e){localStorage.setItem("refresh",e),t.refreshToken=e},setStudentProfile(t,e){t.student.profile=e},setStudentCourses(t,e){t.student.courses=e,t.student.courses.length&&(t.student.hasCourses=!0)},setStudentGradStatus(t,e){t.student.gradStatus=e,t.student.gradStatus.studentGradData=JSON.parse(t.student.gradStatus.studentGradData),"not loaded"!=t.student.gradStatus&&(t.student.hasGradStatus=!0)},setStudentAssessments(t,e){t.student.assessments=e,t.student.assessments.length&&(t.student.hasAssessments=!0)},setStudentExams(t,e){t.student.exams=e,t.student.exams.length&&(t.student.hasExams=!0)},unsetStudent(t){t.student.profile={},t.student.courses="not loaded",t.student.assessments="not loaded",t.student.exams="not loaded",t.student.gradStatus="not loaded",t.student.hasExams=!1,t.student.hasAssessments=!1,t.student.hasCourses=!1,t.student.hasGradStatus=!1,t.student.hasgradStatusPendingUpdates=!1},setRoles(t,e){t.roles=e}},actions:{createProgram({state:t},e){Ue.createProgram(e,t.token).then(t=>"STORE REspsonse to display table"+t).catch(t=>{console.log(t.response.status)})},deleteProgram({state:t},e){Ue.deleteProgram(e,t.token).then(t=>{console.log(t)}).catch(t=>{console.log(t.response.status)})},updateProgram({state:t},e){Ue.updateProgram(e,t.token).then(t=>{console.log(t)}).catch(t=>{console.log(t.response.status)})},createSpecialProgram({state:t},e){Ue.createSpecialProgram(e,t.token).then(t=>"STORE REspsonse to display table"+t).catch(t=>{console.log(t.response.status)})},deleteSpecialProgram({state:t},e){Ue.deleteSpecialProgram(e,t.token).then(t=>{console.log(t)}).catch(t=>{console.log(t.response.status)})},updateSpecialProgram({state:t},e){Ue.updateSpecialProgram(e,t.token).then(t=>{console.log(t)}).catch(t=>{console.log(t.response.status)})},getGraduationPrograms({state:t}){Ue.getGraduationPrograms(t.token).then(t=>t.data).catch(t=>{console.log(t.response.status)})},setHasGradStatusPendingUpdates({commit:t},e){t("setHasGradStatusPendingUpdates",e)},setToken({commit:t},e){t("setToken",e)},setRefreshToken({commit:t},e){t("setRefreshToken",e)},setStudentProfile({commit:t},e){t("setStudentProfile",e[0])},setStudentCourses({commit:t},e){t("setStudentCourses",e)},setStudentAssessments({commit:t},e){t("setStudentAssessments",e)},setStudentExams({commit:t},e){t("setStudentExams",e)},setStudentGradStatus({commit:t},e){t("setStudentGradStatus",e)},setRoles({commit:t},e){console.log(e),t("setRoles",e)}},getters:{getStudentGraduationCreationAndUpdate(t){return{createdBy:t.student.gradStatus.createdBy,createdTimestamp:t.student.gradStatus.createdTimestamp,updatedBy:t.student.gradStatus.updatedBy,updatedTimestamp:t.student.gradStatus.updatedTimestamp}},getHasGradStatusPendingUpdates(t){return t.student.hasGradStatusPendingUpdates},getStudentProfile(t){return t.student.profile},getStudentFullName(t){return{legalLastName:t.student.profile.legalLastName,legalFirstName:t.student.profile.legalFirstName,legalMiddleNames:t.student.profile.legalMiddleNames,pen:t.student.profile.pen}},getStudentPen(t){return t.student.profile.pen},getStudentGradStatus(t){return t.student.gradStatus},getStudentCourses(t){return t.student.courses},getStudentExams(t){return t.student.exams},getStudentAssessments(t){return t.student.assessments},studentHasCourses(t){return t.student.hasCourses},studentHasExams(t){return t.student.hasExams},studentHasAssessments(t){return t.student.hasAssessments},studentHasGradStatus(t){return t.student.hasGradStatus},gradStatusCourses(t){return t.student.gradStatus.studentGradData.studentCourses.studentCourseList},getToken(t){return t.token},getRoles(t){return t.roles},isAdmin(t){return"administrator"==t.roles},isAuthenticated(t){return"authenticated"==t.roles}},modules:{}}),ya=(a("15f5"),a("7051"),a("b1e0")),Pa=(a("8fde"),a("2dd8"),a("82cd"),a("b7cd"));s["default"].config.productionTip=!1;const Aa={isEnabled:!0,logLevel:s["default"].config.productionTip?"error":"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!0,separator:"|",showConsoleColors:!0};s["default"].use(k.a,Aa),s["default"].use(Pa["a"]),s["default"].use(p.a),s["default"].use(Sa["a"]),s["default"].use(fa["a"]),s["default"].use(r["a"]),s["default"].use(_a["a"]),s["default"].use(ya["a"]),s["default"].use(ba["a"]);let ka={url:"https://soam-tools.apps.silver.devops.gov.bc.ca/auth",realm:"master",clientId:"educ-grad-school-api-service",onLoad:"login-required"},Ga=G(ka);Ga.init({onLoad:ka.onLoad,checkLoginIframe:!1}).success(t=>{t?s["default"].$log.info("Authenticated"):window.location.reload(),Ca.dispatch("setToken",Ga.token),Ca.dispatch("setRefreshToken",Ga.refreshToken),Ca.dispatch("setRoles","administrator"),new s["default"]({router:ga,store:Ca,render:t=>t(P)}).$mount("#app"),setInterval(()=>{Ga.updateToken(70).success(t=>{t?(s["default"].$log.debug("Token refreshed"),Ca.dispatch("setToken",Ga.token),Ca.dispatch("setRefreshToken",Ga.refreshToken)):s["default"].$log.warn("Token not refreshed, valid for "+Math.round(Ga.tokenParsed.exp+Ga.timeSkew-(new Date).getTime()/1e3)+" seconds")}).error(()=>{s["default"].$log.error("Failed to refresh token")})},6e4)}).error(()=>{s["default"].$log.error("Authenticated Failed")})},"5deb":function(t,e,a){"use strict";var s=a("fc07"),r=a.n(s);r.a},6114:function(t,e,a){"use strict";var s=a("da60"),r=a.n(s);r.a},6287:function(t,e,a){},"6e10":function(t,e,a){"use strict";var s=a("fa0f"),r=a.n(s);r.a},"7e2c":function(t,e,a){},"7f35":function(t,e,a){},"82cd":function(t,e,a){},"85ec":function(t,e,a){},"88ba":function(t,e,a){},"8e62":function(t,e,a){"use strict";var s=a("6287"),r=a.n(s);r.a},"999a":function(t,e,a){},bc40:function(t,e,a){"use strict";var s=a("d472"),r=a.n(s);r.a},c486:function(t,e,a){},d23d:function(t,e,a){},d472:function(t,e,a){},d768:function(t,e,a){},d843:function(t,e,a){},d9a1:function(t,e,a){"use strict";var s=a("ebb7"),r=a.n(s);r.a},da60:function(t,e,a){},ebb7:function(t,e,a){},f11f:function(t,e,a){},f98f:function(t,e,a){"use strict";var s=a("c486"),r=a.n(s);r.a},fa0f:function(t,e,a){},fb6e:function(t,e,a){"use strict";var s=a("26fe"),r=a.n(s);r.a},fc07:function(t,e,a){}});
//# sourceMappingURL=app.4e656476.js.map